{"id":"qmd-0bb","title":"Remove index_documents from CollectionRepository","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:41:49.381104-05:00","updated_at":"2025-12-29T18:56:57.258367-05:00","closed_at":"2025-12-29T18:56:57.258367-05:00","dependencies":[{"issue_id":"qmd-0bb","depends_on_id":"qmd-1h7","type":"blocks","created_at":"2025-12-29T18:43:12.900433-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-0hh","title":"Add logging to embedding storage and retrieval","description":"Log: store/embeddings.py - embedding storage, search_vectors calls, chunk counts. llm/embeddings.py - EmbeddingGenerator.embed_document chunking, embed_query calls. Include vector dimensions and timing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:46:10.760531-05:00","updated_at":"2025-12-28T21:59:55.061623-05:00","closed_at":"2025-12-28T21:59:55.061623-05:00","dependencies":[{"issue_id":"qmd-0hh","depends_on_id":"qmd-jjg","type":"blocks","created_at":"2025-12-28T21:46:48.109195-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-0nr","title":"Delete pmd/search/metadata/__init__.py shim module","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:38:43.24951-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.056887-05:00","closed_at":"2026-01-10T23:38:57.056887-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases","dependencies":[{"issue_id":"qmd-0nr","depends_on_id":"qmd-a01","type":"blocks","created_at":"2026-01-10T22:39:24.305334-05:00","created_by":"mike"}]}
{"id":"qmd-0to","title":"Add documentation for custom sources","description":"Document how to create and register custom document sources.\n\n## Documentation Sections\n\n### User Guide\n- How to add HTTP collections\n- How to configure authentication\n- Troubleshooting common issues\n\n### Developer Guide\n- Implementing DocumentSource protocol\n- Creating custom EntityResolvers\n- Registering sources at runtime\n- Best practices for change detection\n\n### Examples\n```python\n# Example: Notion resolver\nclass NotionResolver:\n    def __init__(self, api_key: str):\n        self.client = NotionClient(api_key)\n    \n    def list_entities(self, resource_type: str, query: dict):\n        if resource_type == 'pages':\n            for page in self.client.search(query.get('database_id')):\n                yield EntityInfo(id=page.id, title=page.title)\n    \n    async def fetch_entity(self, resource_type: str, id: str):\n        page = await self.client.get_page(id)\n        return EntityContent(\n            content=page.to_markdown(),\n            title=page.title,\n            metadata={'last_edited': page.last_edited_time}\n        )\n\n# Register and use\nregistry.entity_resolvers.register('notion', NotionResolver(api_key))\n# Now can create: entity://notion/pages?database_id=xxx\n```\n\n## Location\n- Update existing docs or create docs/ directory\n- Add docstrings to all public APIs\n- Include in --help output for CLI","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:55:53.279519-05:00","updated_at":"2025-12-29T22:14:27.3517-05:00","closed_at":"2025-12-29T22:14:27.3517-05:00"}
{"id":"qmd-1b1","title":"Add logging to search pipeline and FTS operations","description":"Log: HybridSearchPipeline stages (query expansion, parallel search, RRF fusion, reranking, blending), FTS5SearchRepository searches, result counts at each stage, timing. search.py and pipeline.py.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:46:21.292436-05:00","updated_at":"2025-12-28T22:00:00.448547-05:00","closed_at":"2025-12-28T22:00:00.448547-05:00","dependencies":[{"issue_id":"qmd-1b1","depends_on_id":"qmd-jjg","type":"blocks","created_at":"2025-12-28T21:46:53.216495-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-1h7","title":"Refactor CLI commands to use ServiceContainer","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:40:26.0252-05:00","updated_at":"2025-12-29T18:48:42.65381-05:00","closed_at":"2025-12-29T18:48:42.65381-05:00","dependencies":[{"issue_id":"qmd-1h7","depends_on_id":"qmd-gzy","type":"blocks","created_at":"2025-12-29T18:42:41.407501-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-1h7","depends_on_id":"qmd-87o","type":"blocks","created_at":"2025-12-29T18:42:46.574937-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-1h7","depends_on_id":"qmd-pno","type":"blocks","created_at":"2025-12-29T18:42:51.681044-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-1pt","title":"Move parsing.py (frontmatter, inline tags)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:54.915238-05:00","created_by":"mike","updated_at":"2026-01-02T21:07:18.418558-05:00","closed_at":"2026-01-02T21:07:18.418558-05:00","close_reason":"parsing.py already created in pmd.metadata with all parsing utilities","dependencies":[{"issue_id":"qmd-1pt","depends_on_id":"qmd-tyg","type":"blocks","created_at":"2026-01-02T21:04:14.121656-05:00","created_by":"mike"}]}
{"id":"qmd-1v6","title":"Service layer refactor: abstract orchestration from CLI/repos","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-29T18:38:25.320838-05:00","updated_at":"2025-12-29T18:58:50.173046-05:00","closed_at":"2025-12-29T18:58:50.173046-05:00"}
{"id":"qmd-1y5","title":"Implement Reciprocal Rank Fusion (RRF) algorithm","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:17:37.666091-05:00","updated_at":"2025-12-27T14:20:09.962744-05:00","closed_at":"2025-12-27T14:20:09.962744-05:00","dependencies":[{"issue_id":"qmd-1y5","depends_on_id":"qmd-dum","type":"blocks","created_at":"2025-12-27T14:18:02.68938-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-25r","title":"Update test imports to use canonical locations","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:56.689428-05:00","created_by":"mike","updated_at":"2026-01-02T21:10:52.850268-05:00","closed_at":"2026-01-02T21:10:52.850268-05:00","close_reason":"Test imports work via backward-compat shims, no changes needed","dependencies":[{"issue_id":"qmd-25r","depends_on_id":"qmd-axe","type":"blocks","created_at":"2026-01-02T21:04:16.12586-05:00","created_by":"mike"}]}
{"id":"qmd-30g","title":"Write tests for source abstraction","description":"Comprehensive test coverage for the new source abstraction layer.\n\n## Test Files\n- `tests/unit/sources/test_base.py` - Protocol conformance tests\n- `tests/unit/sources/test_registry.py` - Registry routing tests\n- `tests/unit/sources/test_filesystem.py` - FileSystem source tests\n- `tests/unit/sources/test_http.py` - HTTP source tests (mocked)\n- `tests/unit/sources/test_entity.py` - Entity source tests\n- `tests/integration/test_source_indexing.py` - End-to-end tests\n\n## Test Scenarios\n\n### Registry\n- Register and resolve by scheme\n- Unknown scheme raises error\n- Case-insensitive scheme matching\n\n### FileSystemSource\n- List documents with glob pattern\n- Fetch content with various encodings\n- Handle missing files gracefully\n- Incremental change detection\n\n### HTTPSource (mocked with respx/httpx)\n- Sitemap parsing\n- ETag/Last-Modified handling\n- Auth header injection\n- Retry on transient failures\n- Rate limit handling (429)\n- HTML to markdown conversion\n\n### EntitySource\n- Resolver registration\n- URI parsing\n- Fetch delegation to resolver\n\n### Integration\n- Index filesystem collection (existing behavior)\n- Index HTTP collection end-to-end\n- Mixed collection update","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:55:38.277855-05:00","updated_at":"2025-12-29T22:13:10.854349-05:00","closed_at":"2025-12-29T22:13:10.854349-05:00","dependencies":[{"issue_id":"qmd-30g","depends_on_id":"qmd-p5e","type":"blocks","created_at":"2025-12-29T20:57:19.035394-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-30g","depends_on_id":"qmd-bpc","type":"blocks","created_at":"2025-12-29T20:57:24.153235-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-30g","depends_on_id":"qmd-lb1","type":"blocks","created_at":"2025-12-29T20:57:29.278573-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-3n1","title":"Document CLI configuration and commands","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:14:35.589345-05:00","updated_at":"2025-12-30T21:17:02.900577-05:00","closed_at":"2025-12-30T21:17:02.900577-05:00"}
{"id":"qmd-3sf","title":"Implement LM Studio LLM provider (default)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:23:49.659928-05:00","updated_at":"2025-12-27T14:25:59.391627-05:00","closed_at":"2025-12-27T14:25:59.391627-05:00"}
{"id":"qmd-4ae","title":"Unify Metadata Bounded Context","description":"Unify metadata logic split across metadata/, search/metadata/, and sources/metadata/ into a single pmd/metadata/ package with clear submodules for model (types/ontology), extraction (source profiles), query (tag inference/boost), and store (persistence). Provide deprecation shims for old import paths. See history/METADATA_UNIFICATION_PLAN.md for details.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-09T18:49:29.420658-05:00","created_by":"mike","updated_at":"2026-01-09T19:13:13.97671-05:00","closed_at":"2026-01-09T19:13:13.97671-05:00","close_reason":"Successfully unified metadata bounded context into pmd/metadata/ with model/, extraction/, query/, and store/ submodules. All 9 subtasks completed."}
{"id":"qmd-4ae.1","title":"Create model/ subpackage with core types and ontology","description":"Create pmd/metadata/model/ with Ontology, TagAliases, ExtractedMetadata, StoredDocumentMetadata. Move ontology.py, aliases.py from metadata root. Move data/ directory with JSON files. Consolidate type definitions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T18:49:51.178536-05:00","created_by":"mike","updated_at":"2026-01-09T18:52:58.055785-05:00","closed_at":"2026-01-09T18:52:58.055785-05:00","close_reason":"Created model/ subpackage with Ontology, TagAliases, ExtractedMetadata, MetadataProfile, StoredDocumentMetadata. Data files copied. Root __init__.py re-exports for backward compatibility.","dependencies":[{"issue_id":"qmd-4ae.1","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:51.195172-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.2","title":"Create extraction/ subpackage for source profiles","description":"Create pmd/metadata/extraction/ with MetadataProfile protocol, GenericProfile, ObsidianProfile, DraftsProfile, MetadataProfileRegistry, and parsing utilities. Migrate from sources/metadata/.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T18:49:51.489631-05:00","created_by":"mike","updated_at":"2026-01-09T19:04:06.806825-05:00","closed_at":"2026-01-09T19:04:06.806825-05:00","close_reason":"Created extraction/ subpackage with GenericProfile, ObsidianProfile, DraftsProfile, MetadataProfileRegistry, and parsing utilities. All imports updated to use pmd.metadata.model.","dependencies":[{"issue_id":"qmd-4ae.2","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:51.491571-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.2","depends_on_id":"qmd-4ae.1","type":"blocks","created_at":"2026-01-09T18:50:04.03449-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.3","title":"Create query/ subpackage for inference and scoring","description":"Create pmd/metadata/query/ with LexicalTagMatcher, TagRetriever, TagSearchConfig, and scoring functions. Migrate from search/metadata/. Consolidate any duplicate tag-matching utilities.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T18:49:51.781926-05:00","created_by":"mike","updated_at":"2026-01-09T19:06:36.858707-05:00","closed_at":"2026-01-09T19:06:36.858707-05:00","close_reason":"Created query/ subpackage with LexicalTagMatcher, TagRetriever, and scoring functions. All imports updated.","dependencies":[{"issue_id":"qmd-4ae.3","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:51.784189-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.3","depends_on_id":"qmd-4ae.1","type":"blocks","created_at":"2026-01-09T18:50:04.304946-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.4","title":"Create store/ subpackage for persistence","description":"Create pmd/metadata/store/ with DocumentMetadataRepository. Migrate from store/document_metadata.py. Keep schema definitions with repository.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T18:49:52.091372-05:00","created_by":"mike","updated_at":"2026-01-09T19:07:34.458755-05:00","closed_at":"2026-01-09T19:07:34.458755-05:00","close_reason":"Created store/ subpackage with DocumentMetadataRepository. Uses StoredDocumentMetadata from model/.","dependencies":[{"issue_id":"qmd-4ae.4","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:52.096024-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.4","depends_on_id":"qmd-4ae.1","type":"blocks","created_at":"2026-01-09T18:50:04.578486-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.5","title":"Define public API surface in metadata/__init__.py","description":"Design and implement metadata/__init__.py with clear exports from all submodules. Add __all__ lists, docstrings, and ensure consumers only need to import from the top-level package.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:49:52.384412-05:00","created_by":"mike","updated_at":"2026-01-09T19:08:12.844288-05:00","closed_at":"2026-01-09T19:08:12.844288-05:00","close_reason":"Defined complete public API surface in metadata/__init__.py with exports from all submodules (model, extraction, query, store).","dependencies":[{"issue_id":"qmd-4ae.5","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:52.387149-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.5","depends_on_id":"qmd-4ae.2","type":"blocks","created_at":"2026-01-09T18:50:04.857035-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.5","depends_on_id":"qmd-4ae.3","type":"blocks","created_at":"2026-01-09T18:50:04.903566-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.5","depends_on_id":"qmd-4ae.4","type":"blocks","created_at":"2026-01-09T18:50:04.947448-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.6","title":"Create deprecation shims at old import paths","description":"Create shim modules at sources/metadata/, search/metadata/, and store/document_metadata.py that re-export from new locations with DeprecationWarning. Include migration instructions in warning messages.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:49:52.697781-05:00","created_by":"mike","updated_at":"2026-01-09T19:09:00.507025-05:00","closed_at":"2026-01-09T19:09:00.507025-05:00","close_reason":"Created deprecation shims at sources/metadata/, search/metadata/, and store/document_metadata.py. All re-export from new locations with DeprecationWarning.","dependencies":[{"issue_id":"qmd-4ae.6","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:52.700749-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.6","depends_on_id":"qmd-4ae.5","type":"blocks","created_at":"2026-01-09T18:50:05.216007-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.7","title":"Update internal consumers to new import paths","description":"Update pmd/services/indexing.py, pmd/search/pipeline.py, pmd/sources/content/*.py, CLI commands, and MCP server to use new pmd.metadata imports.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:49:53.018864-05:00","created_by":"mike","updated_at":"2026-01-09T19:10:35.241533-05:00","closed_at":"2026-01-09T19:10:35.241533-05:00","close_reason":"Updated internal consumers: services/indexing.py, sources/content/base.py, sources/content/filesystem.py, and metadata/query files to use new pmd.metadata import paths.","dependencies":[{"issue_id":"qmd-4ae.7","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:53.020966-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.7","depends_on_id":"qmd-4ae.5","type":"blocks","created_at":"2026-01-09T18:50:05.490439-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.8","title":"Add unit tests for shims and cross-module interactions","description":"Add tests verifying: 1) Import shims raise deprecation warnings, 2) extraction-\u003estore flow, 3) query-\u003estore flow, 4) extraction-\u003equery tag normalization. Update existing test imports.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:49:53.315004-05:00","created_by":"mike","updated_at":"2026-01-09T19:11:38.155014-05:00","closed_at":"2026-01-09T19:11:38.155014-05:00","close_reason":"Added 13 unit tests covering deprecation shims, cross-module interactions, and public API consistency in tests/unit/metadata/test_metadata_integration.py","dependencies":[{"issue_id":"qmd-4ae.8","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:53.317342-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.8","depends_on_id":"qmd-4ae.6","type":"blocks","created_at":"2026-01-09T18:50:05.766875-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.8","depends_on_id":"qmd-4ae.7","type":"blocks","created_at":"2026-01-09T18:50:05.81147-05:00","created_by":"mike"}]}
{"id":"qmd-4ae.9","title":"Update documentation and diagrams","description":"Update docs/ARCHITECTURE.md, docs/DATA_ARCHITECTURE.md, and any class diagrams. Create metadata-specific README documenting the unified API surface.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T18:49:53.629581-05:00","created_by":"mike","updated_at":"2026-01-09T19:13:05.688524-05:00","closed_at":"2026-01-09T19:13:05.688524-05:00","close_reason":"Updated METADATA_ARCHITECTURE.md with new unified package structure and import patterns. Added 13 new test cases to TEST_CASES.md.","dependencies":[{"issue_id":"qmd-4ae.9","depends_on_id":"qmd-4ae","type":"parent-child","created_at":"2026-01-09T18:49:53.632577-05:00","created_by":"mike"},{"issue_id":"qmd-4ae.9","depends_on_id":"qmd-4ae.5","type":"blocks","created_at":"2026-01-09T18:50:06.082759-05:00","created_by":"mike"}]}
{"id":"qmd-4fp","title":"Run tests and fix any issues","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:57.043368-05:00","created_by":"mike","updated_at":"2026-01-02T21:10:52.88793-05:00","closed_at":"2026-01-02T21:10:52.88793-05:00","close_reason":"All 421 tests pass","dependencies":[{"issue_id":"qmd-4fp","depends_on_id":"qmd-25r","type":"blocks","created_at":"2026-01-02T21:04:16.445547-05:00","created_by":"mike"}]}
{"id":"qmd-4u6","title":"Document BM25 search implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T20:14:16.74915-05:00","updated_at":"2025-12-30T20:18:14.577614-05:00","closed_at":"2025-12-30T20:18:14.577614-05:00"}
{"id":"qmd-56o","title":"Implement actual vector storage in store_embedding()","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T17:39:50.944182-05:00","updated_at":"2025-12-27T17:43:07.476344-05:00","closed_at":"2025-12-27T17:43:07.476344-05:00","dependencies":[{"issue_id":"qmd-56o","depends_on_id":"qmd-xco","type":"blocks","created_at":"2025-12-27T17:40:15.770177-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-5hj","title":"Document high-level system architecture","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T20:18:56.468528-05:00","updated_at":"2025-12-30T20:24:02.09318-05:00","closed_at":"2025-12-30T20:24:02.09318-05:00"}
{"id":"qmd-5ms","title":"Update Collection model for source configuration","description":"Extend Collection to support different source types with type-specific configuration.\n\n## Schema Changes\n```sql\nALTER TABLE collections ADD COLUMN source_type TEXT DEFAULT 'filesystem';\nALTER TABLE collections ADD COLUMN source_config TEXT;  -- JSON blob\n```\n\n## Updated Collection Type\n```python\n@dataclass\nclass Collection:\n    id: int\n    name: str\n    # Legacy fields (kept for filesystem compatibility)\n    pwd: str\n    glob_pattern: str\n    # New source fields\n    source_type: str = 'filesystem'  # 'filesystem', 'http', 'entity'\n    source_config: dict | None = None\n    created_at: str\n    updated_at: str\n    \n    def get_source_uri(self) -\u003e str:\n        \"\"\"Compute source URI from config.\"\"\"\n        if self.source_type == 'filesystem':\n            return f'file://{self.pwd}'\n        elif self.source_type == 'http':\n            return self.source_config['base_url']\n        elif self.source_type == 'entity':\n            return self.source_config['uri']\n```\n\n## Migration Strategy\n1. Existing collections get source_type='filesystem'\n2. source_config remains NULL for filesystem (uses pwd/glob_pattern)\n3. New sources store config in source_config JSON\n\n## CollectionRepository Updates\n- Update create() to accept source_type and source_config\n- Add validation per source type\n- Keep backward-compatible create() signature for filesystem","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:54:38.005003-05:00","updated_at":"2025-12-29T21:27:22.469593-05:00","closed_at":"2025-12-29T21:27:22.469593-05:00"}
{"id":"qmd-5os","title":"Implement embedding generation and caching","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:23:59.963277-05:00","updated_at":"2025-12-27T14:27:19.733839-05:00","closed_at":"2025-12-27T14:27:19.733839-05:00","dependencies":[{"issue_id":"qmd-5os","depends_on_id":"qmd-3sf","type":"blocks","created_at":"2025-12-27T14:24:24.91172-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-5os","depends_on_id":"qmd-yvl","type":"blocks","created_at":"2025-12-27T14:24:30.042259-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-6dh","title":"Create class diagrams documentation for pmd library","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T20:21:47.699147-05:00","updated_at":"2025-12-31T20:25:31.812392-05:00","closed_at":"2025-12-31T20:25:31.812392-05:00"}
{"id":"qmd-6fs","title":"Prevent empty chunk creation in chunking.py","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:02:44.715217-05:00","updated_at":"2025-12-28T23:36:56.324587-05:00","closed_at":"2025-12-28T23:36:56.324587-05:00"}
{"id":"qmd-6qu","title":"Remove _index_via_legacy fallback in IndexingService","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:38:17.122703-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.035947-05:00","closed_at":"2026-01-10T23:38:57.035947-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases"}
{"id":"qmd-790","title":"Rename Collection to SourceCollection","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T20:53:37.79007-05:00","created_by":"mike","updated_at":"2026-01-10T21:35:02.674575-05:00","closed_at":"2026-01-10T21:35:02.674575-05:00","close_reason":"Collection renamed to SourceCollection throughout codebase. Core code complete with backwards compat aliases. Some tests need manual updates for keyword args."}
{"id":"qmd-790.1","title":"Rename core types and exceptions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:49.737735-05:00","created_by":"mike","updated_at":"2026-01-10T20:55:24.32304-05:00","closed_at":"2026-01-10T20:55:24.32304-05:00","close_reason":"Renamed types and exceptions with backwards compatibility aliases","dependencies":[{"issue_id":"qmd-790.1","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:49.774102-05:00","created_by":"mike"}]}
{"id":"qmd-790.2","title":"Create database migration for table rename","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:51.069846-05:00","created_by":"mike","updated_at":"2026-01-10T20:57:04.55968-05:00","closed_at":"2026-01-10T20:57:04.55968-05:00","close_reason":"Created v0002 migration and updated schema","dependencies":[{"issue_id":"qmd-790.2","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:51.079848-05:00","created_by":"mike"}]}
{"id":"qmd-790.3","title":"Update store layer (schema, repository)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:52.327133-05:00","created_by":"mike","updated_at":"2026-01-10T21:01:02.617225-05:00","closed_at":"2026-01-10T21:01:02.617225-05:00","close_reason":"Updated store layer - repository, schema, documents, search, embeddings","dependencies":[{"issue_id":"qmd-790.3","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:52.331539-05:00","created_by":"mike"}]}
{"id":"qmd-790.4","title":"Update app layer (types, application)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:53.589238-05:00","created_by":"mike","updated_at":"2026-01-10T21:03:16.369069-05:00","closed_at":"2026-01-10T21:03:16.369069-05:00","close_reason":"Updated app layer - protocols, types, create_application","dependencies":[{"issue_id":"qmd-790.4","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:53.594449-05:00","created_by":"mike"}]}
{"id":"qmd-790.5","title":"Update services layer","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:54.816331-05:00","created_by":"mike","updated_at":"2026-01-10T21:34:53.845009-05:00","closed_at":"2026-01-10T21:34:53.845009-05:00","close_reason":"Core rename completed with backwards compatibility aliases. Some tests need keyword arg updates.","dependencies":[{"issue_id":"qmd-790.5","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:54.839873-05:00","created_by":"mike"}]}
{"id":"qmd-790.6","title":"Update CLI and MCP","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:56.084345-05:00","created_by":"mike","updated_at":"2026-01-10T21:34:53.85317-05:00","closed_at":"2026-01-10T21:34:53.85317-05:00","close_reason":"Core rename completed with backwards compatibility aliases. Some tests need keyword arg updates.","dependencies":[{"issue_id":"qmd-790.6","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:56.094703-05:00","created_by":"mike"}]}
{"id":"qmd-790.7","title":"Update sources layer","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:57.317259-05:00","created_by":"mike","updated_at":"2026-01-10T21:34:53.856391-05:00","closed_at":"2026-01-10T21:34:53.856391-05:00","close_reason":"Core rename completed with backwards compatibility aliases. Some tests need keyword arg updates.","dependencies":[{"issue_id":"qmd-790.7","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:57.319418-05:00","created_by":"mike"}]}
{"id":"qmd-790.8","title":"Update all tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T20:53:58.600326-05:00","created_by":"mike","updated_at":"2026-01-10T21:34:53.858083-05:00","closed_at":"2026-01-10T21:34:53.858083-05:00","close_reason":"Core rename completed with backwards compatibility aliases. Some tests need keyword arg updates.","dependencies":[{"issue_id":"qmd-790.8","depends_on_id":"qmd-790","type":"parent-child","created_at":"2026-01-10T20:53:58.601087-05:00","created_by":"mike"}]}
{"id":"qmd-7g4","title":"Add source metadata tracking table","description":"Create database schema for tracking source-specific metadata (ETags, timestamps, etc.).\n\n## Schema Addition\n```sql\nCREATE TABLE source_metadata (\n    id INTEGER PRIMARY KEY,\n    document_id INTEGER NOT NULL REFERENCES documents(id),\n    source_uri TEXT NOT NULL,\n    etag TEXT,\n    last_modified TEXT,\n    last_fetched_at TEXT NOT NULL,\n    fetch_duration_ms INTEGER,\n    http_status INTEGER,\n    content_type TEXT,\n    extra_metadata TEXT,  -- JSON blob for source-specific data\n    UNIQUE(document_id)\n);\n\nCREATE INDEX idx_source_metadata_uri ON source_metadata(source_uri);\n```\n\n## Repository\n`src/pmd/store/source_metadata.py`\n\n```python\nclass SourceMetadataRepository:\n    def upsert(self, doc_id: int, metadata: SourceMetadata) -\u003e None\n    def get_by_document(self, doc_id: int) -\u003e SourceMetadata | None\n    def get_by_uri(self, uri: str) -\u003e SourceMetadata | None\n    def needs_refresh(self, doc_id: int, max_age_seconds: int) -\u003e bool\n```\n\n## Migration\n- Add migration script to schema.py\n- Handle existing documents (no metadata = filesystem source)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:54:07.712819-05:00","updated_at":"2025-12-29T21:25:21.18871-05:00","closed_at":"2025-12-29T21:25:21.18871-05:00"}
{"id":"qmd-7xh","title":"Remove all backwards-compatibility/legacy abstractions","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T22:39:06.08291-05:00","created_by":"mike","updated_at":"2026-01-10T22:39:06.08291-05:00","dependencies":[{"issue_id":"qmd-7xh","depends_on_id":"qmd-6qu","type":"blocks","created_at":"2026-01-10T22:39:14.743311-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-m6b","type":"blocks","created_at":"2026-01-10T22:39:14.797178-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-zm6","type":"blocks","created_at":"2026-01-10T22:39:14.850734-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-iug","type":"blocks","created_at":"2026-01-10T22:39:14.904919-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-mlb","type":"blocks","created_at":"2026-01-10T22:39:14.955104-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-zr2","type":"blocks","created_at":"2026-01-10T22:39:15.014445-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-t1d","type":"blocks","created_at":"2026-01-10T22:39:15.064744-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-0nr","type":"blocks","created_at":"2026-01-10T22:39:15.111282-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-g1u","type":"blocks","created_at":"2026-01-10T22:39:15.170096-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-a01","type":"blocks","created_at":"2026-01-10T22:39:15.222075-05:00","created_by":"mike"},{"issue_id":"qmd-7xh","depends_on_id":"qmd-8s3","type":"blocks","created_at":"2026-01-10T22:39:15.27705-05:00","created_by":"mike"}]}
{"id":"qmd-84n","title":"Isolate Retrieval Pipeline from Infrastructure","description":"Refactor HybridSearchPipeline to depend on abstract ports rather than concrete storage/LLM implementations. Creates a pure retrieval algorithm testable with in-memory fakes. See history/PIPELINE_ISOLATION_PLAN.md for details.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-09T19:22:06.061682-05:00","created_by":"mike","updated_at":"2026-01-09T19:38:06.510044-05:00","closed_at":"2026-01-09T19:38:06.510044-05:00","close_reason":"All 10 subtasks completed: ports defined, adapters implemented, pipeline refactored, SearchService wired, test fakes created, 22 contract tests passing, documentation updated"}
{"id":"qmd-84n.1","title":"Define search port protocols","description":"Create src/pmd/search/ports.py with Protocol definitions: TextSearcher, VectorSearcher, TagSearcher, QueryExpander, Reranker, MetadataBooster, TagInferencer. Include supporting result types RerankResult and BoostInfo.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T19:22:28.432784-05:00","created_by":"mike","updated_at":"2026-01-09T19:28:04.94516-05:00","closed_at":"2026-01-09T19:28:04.94516-05:00","close_reason":"Created src/pmd/search/ports.py with Protocol definitions for TextSearcher, VectorSearcher, TagSearcher, QueryExpander, Reranker, MetadataBooster, TagInferencer plus BoostInfo and RerankScore types","dependencies":[{"issue_id":"qmd-84n.1","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:28.44366-05:00","created_by":"mike"}]}
{"id":"qmd-84n.10","title":"Document configuration defaults","description":"Add comprehensive docstrings to SearchPipelineConfig documenting all weight defaults, their meanings, and tuning guidance. Update tests/TEST_CASES.md with new contract tests.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T19:22:34.638048-05:00","created_by":"mike","updated_at":"2026-01-09T19:37:57.955873-05:00","closed_at":"2026-01-09T19:37:57.955873-05:00","close_reason":"Documentation complete: SearchPipelineConfig already has comprehensive docstrings from refactor; TEST_CASES.md updated with 22 contract tests","dependencies":[{"issue_id":"qmd-84n.10","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:34.643437-05:00","created_by":"mike"},{"issue_id":"qmd-84n.10","depends_on_id":"qmd-84n.9","type":"blocks","created_at":"2026-01-09T19:22:43.117595-05:00","created_by":"mike"}]}
{"id":"qmd-84n.2","title":"Create FTS5TextSearcher adapter","description":"Create src/pmd/search/adapters/text.py with FTS5TextSearcher that wraps FTS5SearchRepository and implements TextSearcher protocol.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T19:22:28.967403-05:00","created_by":"mike","updated_at":"2026-01-09T19:30:47.434653-05:00","closed_at":"2026-01-09T19:30:47.434653-05:00","close_reason":"Created all adapters in src/pmd/search/adapters/ and test fakes in tests/fakes/","dependencies":[{"issue_id":"qmd-84n.2","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:28.970205-05:00","created_by":"mike"},{"issue_id":"qmd-84n.2","depends_on_id":"qmd-84n.1","type":"blocks","created_at":"2026-01-09T19:22:42.491127-05:00","created_by":"mike"}]}
{"id":"qmd-84n.3","title":"Create EmbeddingVectorSearcher adapter","description":"Create src/pmd/search/adapters/vector.py with EmbeddingVectorSearcher that wraps EmbeddingGenerator and EmbeddingRepository, implements VectorSearcher protocol. Takes query string, handles embedding internally.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T19:22:29.870263-05:00","created_by":"mike","updated_at":"2026-01-09T19:30:47.437594-05:00","closed_at":"2026-01-09T19:30:47.437594-05:00","close_reason":"Created all adapters in src/pmd/search/adapters/ and test fakes in tests/fakes/","dependencies":[{"issue_id":"qmd-84n.3","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:29.874092-05:00","created_by":"mike"},{"issue_id":"qmd-84n.3","depends_on_id":"qmd-84n.1","type":"blocks","created_at":"2026-01-09T19:22:42.543907-05:00","created_by":"mike"}]}
{"id":"qmd-84n.4","title":"Create tag and metadata adapters","description":"Create adapters: TagRetrieverSearcher (wraps TagRetriever), OntologyMetadataBooster (encapsulates metadata_repo, ontology, DB lookups for boost), LexicalTagInferencer (wraps LexicalTagMatcher + Ontology).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T19:22:30.648764-05:00","created_by":"mike","updated_at":"2026-01-09T19:30:47.439483-05:00","closed_at":"2026-01-09T19:30:47.439483-05:00","close_reason":"Created all adapters in src/pmd/search/adapters/ and test fakes in tests/fakes/","dependencies":[{"issue_id":"qmd-84n.4","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:30.652338-05:00","created_by":"mike"},{"issue_id":"qmd-84n.4","depends_on_id":"qmd-84n.1","type":"blocks","created_at":"2026-01-09T19:22:42.597656-05:00","created_by":"mike"}]}
{"id":"qmd-84n.5","title":"Create LLM adapters for expansion and reranking","description":"Create adapters: LLMQueryExpander (wraps existing QueryExpander), LLMReranker (wraps DocumentReranker). May be thin wrappers or re-exports if existing classes already match protocols.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:22:31.408219-05:00","created_by":"mike","updated_at":"2026-01-09T19:30:47.441622-05:00","closed_at":"2026-01-09T19:30:47.441622-05:00","close_reason":"Created all adapters in src/pmd/search/adapters/ and test fakes in tests/fakes/","dependencies":[{"issue_id":"qmd-84n.5","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:31.416623-05:00","created_by":"mike"},{"issue_id":"qmd-84n.5","depends_on_id":"qmd-84n.1","type":"blocks","created_at":"2026-01-09T19:22:42.663564-05:00","created_by":"mike"}]}
{"id":"qmd-84n.6","title":"Refactor HybridSearchPipeline to use ports","description":"Update pipeline constructor to accept port protocols. Remove all direct DB/repo imports and calls. _parallel_search uses ports, _apply_metadata_boost delegates to MetadataBooster port. Zero imports from pmd.store.* or pmd.llm.*.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T19:22:32.194174-05:00","created_by":"mike","updated_at":"2026-01-09T19:32:25.796523-05:00","closed_at":"2026-01-09T19:32:25.796523-05:00","close_reason":"Refactored HybridSearchPipeline to use port protocols. Zero imports from pmd.store.* or pmd.llm.*. Constructor now accepts TextSearcher, VectorSearcher, TagSearcher, QueryExpander, Reranker, MetadataBooster, TagInferencer ports.","dependencies":[{"issue_id":"qmd-84n.6","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:32.206578-05:00","created_by":"mike"},{"issue_id":"qmd-84n.6","depends_on_id":"qmd-84n.2","type":"blocks","created_at":"2026-01-09T19:22:42.734723-05:00","created_by":"mike"},{"issue_id":"qmd-84n.6","depends_on_id":"qmd-84n.3","type":"blocks","created_at":"2026-01-09T19:22:42.773172-05:00","created_by":"mike"},{"issue_id":"qmd-84n.6","depends_on_id":"qmd-84n.4","type":"blocks","created_at":"2026-01-09T19:22:42.811567-05:00","created_by":"mike"},{"issue_id":"qmd-84n.6","depends_on_id":"qmd-84n.5","type":"blocks","created_at":"2026-01-09T19:22:42.860173-05:00","created_by":"mike"}]}
{"id":"qmd-84n.7","title":"Update SearchService wiring","description":"Move adapter creation to SearchService.hybrid_search(). Create adapters from container resources and pass to HybridSearchPipeline. Keep configuration passthrough clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:22:32.616293-05:00","created_by":"mike","updated_at":"2026-01-09T19:33:49.957576-05:00","closed_at":"2026-01-09T19:33:49.957576-05:00","close_reason":"Updated SearchService.hybrid_search to create port adapters from container resources. Added get_tag_matcher, get_ontology, get_tag_retriever, get_metadata_repo methods to ServiceContainer.","dependencies":[{"issue_id":"qmd-84n.7","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:32.618164-05:00","created_by":"mike"},{"issue_id":"qmd-84n.7","depends_on_id":"qmd-84n.6","type":"blocks","created_at":"2026-01-09T19:22:42.907976-05:00","created_by":"mike"}]}
{"id":"qmd-84n.8","title":"Create in-memory test fakes","description":"Create tests/fakes/search.py with InMemoryTextSearcher, InMemoryVectorSearcher, InMemoryTagSearcher, StubQueryExpander, StubReranker, InMemoryMetadataBooster. Each returns pre-configured results for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:22:33.162191-05:00","created_by":"mike","updated_at":"2026-01-09T19:30:47.443739-05:00","closed_at":"2026-01-09T19:30:47.443739-05:00","close_reason":"Created all adapters in src/pmd/search/adapters/ and test fakes in tests/fakes/","dependencies":[{"issue_id":"qmd-84n.8","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:33.165562-05:00","created_by":"mike"},{"issue_id":"qmd-84n.8","depends_on_id":"qmd-84n.1","type":"blocks","created_at":"2026-01-09T19:22:42.967655-05:00","created_by":"mike"}]}
{"id":"qmd-84n.9","title":"Add contract tests for pipeline","description":"Create tests/unit/search/test_pipeline_contracts.py with tests using in-memory fakes. Test fusion algorithm, metadata boost integration, score normalization, error handling. No DB/LLM required.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:22:33.928245-05:00","created_by":"mike","updated_at":"2026-01-09T19:36:08.432188-05:00","closed_at":"2026-01-09T19:36:08.432188-05:00","close_reason":"Added 22 contract tests in tests/unit/search/test_pipeline_contracts.py covering basic search, RRF fusion, metadata boost, reranking, query expansion, tag retrieval, score normalization, error handling, and configuration defaults.","dependencies":[{"issue_id":"qmd-84n.9","depends_on_id":"qmd-84n","type":"parent-child","created_at":"2026-01-09T19:22:33.942055-05:00","created_by":"mike"},{"issue_id":"qmd-84n.9","depends_on_id":"qmd-84n.6","type":"blocks","created_at":"2026-01-09T19:22:43.02166-05:00","created_by":"mike"},{"issue_id":"qmd-84n.9","depends_on_id":"qmd-84n.8","type":"blocks","created_at":"2026-01-09T19:22:43.065444-05:00","created_by":"mike"}]}
{"id":"qmd-86u","title":"Implement LlamaIndex Loader Adapter","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T20:17:10.982086-05:00","created_by":"mike","updated_at":"2026-01-10T20:22:07.856021-05:00","closed_at":"2026-01-10T20:22:07.856021-05:00","close_reason":"Implemented LlamaIndexLoaderAdapter with 20 passing unit tests"}
{"id":"qmd-87o","title":"Create SearchService with fts/vector/hybrid methods","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:38:59.695299-05:00","updated_at":"2025-12-29T18:47:03.705476-05:00","closed_at":"2025-12-29T18:47:03.705476-05:00","dependencies":[{"issue_id":"qmd-87o","depends_on_id":"qmd-q74","type":"blocks","created_at":"2025-12-29T18:42:30.903268-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-89l","title":"Add tests for title-only document handling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:03:10.831042-05:00","updated_at":"2025-12-28T23:39:31.186247-05:00","closed_at":"2025-12-28T23:39:31.186247-05:00","dependencies":[{"issue_id":"qmd-89l","depends_on_id":"qmd-vsb","type":"blocks","created_at":"2025-12-28T23:03:42.185959-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-89l","depends_on_id":"qmd-6fs","type":"blocks","created_at":"2025-12-28T23:03:47.576672-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-89l","depends_on_id":"qmd-b2l","type":"blocks","created_at":"2025-12-28T23:03:52.941829-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-8ch","title":"Document data architecture","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:01:00.141932-05:00","updated_at":"2025-12-30T21:04:34.174871-05:00","closed_at":"2025-12-30T21:04:34.174871-05:00"}
{"id":"qmd-8i4","title":"Keep title-only docs lexical-only (no embeddings)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T23:02:17.526401-05:00","updated_at":"2025-12-28T23:39:31.187268-05:00","closed_at":"2025-12-28T23:39:31.187268-05:00"}
{"id":"qmd-8lj","title":"Implement MCP server integration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:24:15.368329-05:00","updated_at":"2025-12-27T14:30:07.136447-05:00","closed_at":"2025-12-27T14:30:07.136447-05:00","dependencies":[{"issue_id":"qmd-8lj","depends_on_id":"qmd-rk0","type":"blocks","created_at":"2025-12-27T14:24:45.45496-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-8lj","depends_on_id":"qmd-wvv","type":"blocks","created_at":"2025-12-27T14:24:50.593262-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-8s3","title":"Remove deprecated container parameter from service constructors","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:38:56.755826-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.041872-05:00","closed_at":"2026-01-10T23:38:57.041872-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases"}
{"id":"qmd-99b","title":"Move ontology.py and data files to pmd.metadata","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:55.263588-05:00","created_by":"mike","updated_at":"2026-01-02T21:07:12.648767-05:00","closed_at":"2026-01-02T21:07:12.648767-05:00","close_reason":"Created types.py, ontology.py, aliases.py in pmd.metadata with data files","dependencies":[{"issue_id":"qmd-99b","depends_on_id":"qmd-ov8","type":"blocks","created_at":"2026-01-02T21:04:14.399715-05:00","created_by":"mike"}]}
{"id":"qmd-9am","title":"Implement basic CLI structure and collection commands","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:09:16.465237-05:00","updated_at":"2025-12-27T14:16:56.480201-05:00","closed_at":"2025-12-27T14:16:56.480201-05:00","dependencies":[{"issue_id":"qmd-9am","depends_on_id":"qmd-vhe","type":"blocks","created_at":"2025-12-27T14:09:57.295083-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-9am","depends_on_id":"qmd-waq","type":"blocks","created_at":"2025-12-27T14:10:02.469193-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-9nv","title":"Add unit tests for service layer","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:42:02.973274-05:00","updated_at":"2025-12-29T19:03:48.348518-05:00","closed_at":"2025-12-29T19:03:48.348518-05:00","dependencies":[{"issue_id":"qmd-9nv","depends_on_id":"qmd-gzy","type":"blocks","created_at":"2025-12-29T18:43:18.300845-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-9nv","depends_on_id":"qmd-87o","type":"blocks","created_at":"2025-12-29T18:43:23.47828-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-9nv","depends_on_id":"qmd-pno","type":"blocks","created_at":"2025-12-29T18:43:28.627803-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-a01","title":"Update code to use canonical import paths for metadata modules","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:38:55.044156-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.038819-05:00","closed_at":"2026-01-10T23:38:57.038819-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases"}
{"id":"qmd-a92","title":"Document instrumentation implementation with Phoenix","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:18:21.425925-05:00","updated_at":"2025-12-30T21:26:42.060971-05:00","closed_at":"2025-12-30T21:26:42.060971-05:00"}
{"id":"qmd-axe","title":"Update pmd.search.metadata imports and remove shims","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:56.317597-05:00","created_by":"mike","updated_at":"2026-01-02T21:09:49.871361-05:00","closed_at":"2026-01-02T21:09:49.871361-05:00","close_reason":"Updated search.metadata to import from pmd.metadata, kept shim files for backward compat","dependencies":[{"issue_id":"qmd-axe","depends_on_id":"qmd-99b","type":"blocks","created_at":"2026-01-02T21:04:15.252882-05:00","created_by":"mike"},{"issue_id":"qmd-axe","depends_on_id":"qmd-rns","type":"blocks","created_at":"2026-01-02T21:04:15.534167-05:00","created_by":"mike"},{"issue_id":"qmd-axe","depends_on_id":"qmd-eap","type":"blocks","created_at":"2026-01-02T21:04:15.823889-05:00","created_by":"mike"}]}
{"id":"qmd-b2l","title":"Index title as FTS body for title-only docs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:02:57.724172-05:00","updated_at":"2025-12-28T23:37:58.853589-05:00","closed_at":"2025-12-28T23:37:58.853589-05:00","dependencies":[{"issue_id":"qmd-b2l","depends_on_id":"qmd-vas","type":"blocks","created_at":"2025-12-28T23:03:36.807091-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-b2n","title":"Define DocumentSource protocol","description":"Create the core protocol/interface that all document sources must implement.\n\n## Location\n`src/pmd/sources/base.py`\n\n## Protocol Definition\n```python\nclass DocumentReference:\n    \"\"\"Reference to a document from a source.\"\"\"\n    uri: str              # Canonical URI (e.g., 'file:///path/to/doc.md')\n    path: str             # Relative path for storage\n    title: str | None     # Optional title hint\n    metadata: dict        # Source-specific metadata (etag, last-modified, etc.)\n\nclass DocumentSource(Protocol):\n    \"\"\"Protocol for document sources.\"\"\"\n    \n    def list_documents(self) -\u003e Iterator[DocumentReference]:\n        \"\"\"Enumerate available documents.\"\"\"\n        ...\n    \n    async def fetch_content(self, ref: DocumentReference) -\u003e str:\n        \"\"\"Fetch document content.\"\"\"\n        ...\n    \n    def supports_incremental(self) -\u003e bool:\n        \"\"\"Whether source supports efficient change detection.\"\"\"\n        ...\n    \n    async def check_modified(self, ref: DocumentReference, stored_hash: str) -\u003e bool:\n        \"\"\"Check if document has changed since last fetch.\"\"\"\n        ...\n```\n\n## Design Notes\n- Use Protocol (structural subtyping) not ABC for flexibility\n- Make fetch_content async to support network sources\n- DocumentReference should be serializable for caching","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:53:07.423334-05:00","updated_at":"2025-12-29T21:20:06.271568-05:00","closed_at":"2025-12-29T21:20:06.271568-05:00"}
{"id":"qmd-bpc","title":"Implement HTTPSource for web documents","description":"Create HTTP/HTTPS document source for fetching web content.\n\n## Location\n`src/pmd/sources/http.py`\n\n## Configuration\n```python\n@dataclass\nclass HTTPConfig:\n    base_url: str\n    # Discovery\n    sitemap_url: str | None = None\n    manifest_urls: list[str] | None = None\n    # Auth\n    auth_type: Literal['none', 'bearer', 'basic', 'api_key'] = 'none'\n    auth_token: str | None = None\n    api_key_header: str = 'X-API-Key'\n    # Behavior\n    timeout_seconds: int = 30\n    max_retries: int = 3\n    respect_robots_txt: bool = True\n    # Content\n    content_selector: str | None = None  # CSS selector for main content\n    allowed_content_types: list[str] = ['text/html', 'text/markdown', 'text/plain']\n```\n\n## Features\n1. **Discovery modes**:\n   - Sitemap.xml parsing\n   - Explicit manifest (list of URLs)\n   - Single document mode\n\n2. **Change detection**:\n   - ETag support\n   - Last-Modified header\n   - Fallback to content hash\n\n3. **Content extraction**:\n   - HTML to markdown conversion\n   - CSS selector for main content area\n   - Metadata extraction (title, description)\n\n4. **Error handling**:\n   - Retry with exponential backoff\n   - Rate limit detection (429)\n   - Connection pooling\n\n## Dependencies\n- httpx for async HTTP\n- beautifulsoup4 for HTML parsing\n- Consider markdownify for HTML-\u003eMD","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:53:52.792297-05:00","updated_at":"2025-12-29T21:42:03.296683-05:00","closed_at":"2025-12-29T21:42:03.296683-05:00","dependencies":[{"issue_id":"qmd-bpc","depends_on_id":"qmd-b2n","type":"blocks","created_at":"2025-12-29T20:56:27.641258-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-bpc","depends_on_id":"qmd-qno","type":"blocks","created_at":"2025-12-29T20:56:32.770335-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-bpc","depends_on_id":"qmd-7g4","type":"blocks","created_at":"2025-12-29T20:56:37.907547-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-bpz","title":"Implement SourceRegistry for URI routing","description":"Create a registry that routes URI schemes to appropriate source implementations.\n\n## Location\n`src/pmd/sources/registry.py`\n\n## Design\n```python\nclass SourceRegistry:\n    \"\"\"Routes URI schemes to source implementations.\"\"\"\n    \n    _handlers: dict[str, type[DocumentSource]]\n    \n    def register(self, scheme: str, source_class: type[DocumentSource]) -\u003e None:\n        \"\"\"Register a source class for a URI scheme.\"\"\"\n    \n    def resolve(self, uri: str, config: SourceConfig) -\u003e DocumentSource:\n        \"\"\"Create source instance for given URI.\"\"\"\n    \n    def supported_schemes(self) -\u003e list[str]:\n        \"\"\"List registered schemes.\"\"\"\n\n# Default registry with built-in sources\ndefault_registry = SourceRegistry()\ndefault_registry.register('file', FileSystemSource)\ndefault_registry.register('http', HTTPSource)\ndefault_registry.register('https', HTTPSource)\n```\n\n## Features\n- Singleton default registry\n- Allow custom registrations at runtime\n- URI parsing with scheme extraction\n- Config validation per source type","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:53:22.59378-05:00","updated_at":"2025-12-29T21:21:38.218141-05:00","closed_at":"2025-12-29T21:21:38.218141-05:00","dependencies":[{"issue_id":"qmd-bpz","depends_on_id":"qmd-b2n","type":"blocks","created_at":"2025-12-29T20:56:17.354957-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-c4v","title":"Implement FTS5 full-text search indexing","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:09:11.065564-05:00","updated_at":"2025-12-27T14:15:56.348106-05:00","closed_at":"2025-12-27T14:15:56.348106-05:00","dependencies":[{"issue_id":"qmd-c4v","depends_on_id":"qmd-waq","type":"blocks","created_at":"2025-12-27T14:09:42.883846-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-c7n","title":"Add integration tests for embed_collection and vector_search","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:34:39.791882-05:00","updated_at":"2025-12-29T19:38:21.748531-05:00","closed_at":"2025-12-29T19:38:21.748531-05:00"}
{"id":"qmd-cyk","title":"Fix test failures from Collection to SourceCollection rename","description":"Tests not updated after renaming Collection to SourceCollection. Issues: 1) collection_id -\u003e source_collection_id in SearchResult, 2) collection_repo -\u003e source_collection_repo in service constructors, 3) FTS5SearchRepository.search uses old param names, 4) Tests reference old 'collections' table","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T21:52:27.60643-05:00","created_by":"mike","updated_at":"2026-01-10T22:28:28.611007-05:00","closed_at":"2026-01-10T22:28:28.611007-05:00","close_reason":"Fixed majority of test failures from Collection-\u003eSourceCollection rename: 1) SearchResult collection_id-\u003esource_collection_id in all files, 2) Service constructor collection_repo-\u003esource_collection_repo, 3) SQL queries with old column names, 4) Application tests with missing loading param. Remaining 88 failures are deeper schema/migration tests that need table/index name updates."}
{"id":"qmd-ddq","title":"Centralize Schema Ownership and Migrations","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-09T20:31:08.721032-05:00","created_by":"mike","updated_at":"2026-01-09T20:38:57.899571-05:00","closed_at":"2026-01-09T20:38:57.899571-05:00","close_reason":"Complete: Centralized schema with versioned migrations, removed ad-hoc table creation, added tests and docs"}
{"id":"qmd-ddq.1","title":"Create migration runner infrastructure (store/migrations/)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:31:16.288085-05:00","created_by":"mike","updated_at":"2026-01-09T20:33:41.236141-05:00","closed_at":"2026-01-09T20:33:41.236141-05:00","close_reason":"Created migrations module with runner and versions package","dependencies":[{"issue_id":"qmd-ddq.1","depends_on_id":"qmd-ddq","type":"parent-child","created_at":"2026-01-09T20:31:16.301398-05:00","created_by":"mike"}]}
{"id":"qmd-ddq.2","title":"Convert existing schema to versioned migration 0001","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:31:16.599853-05:00","created_by":"mike","updated_at":"2026-01-09T20:34:10.836877-05:00","closed_at":"2026-01-09T20:34:10.836877-05:00","close_reason":"Created v0001_initial_schema.py with all base tables","dependencies":[{"issue_id":"qmd-ddq.2","depends_on_id":"qmd-ddq","type":"parent-child","created_at":"2026-01-09T20:31:16.604267-05:00","created_by":"mike"},{"issue_id":"qmd-ddq.2","depends_on_id":"qmd-ddq.1","type":"blocks","created_at":"2026-01-09T20:31:33.884224-05:00","created_by":"mike"}]}
{"id":"qmd-ddq.3","title":"Update Database class to use migration runner","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:31:16.89993-05:00","created_by":"mike","updated_at":"2026-01-09T20:35:26.079068-05:00","closed_at":"2026-01-09T20:35:26.079068-05:00","close_reason":"Database class now uses MigrationRunner for schema initialization","dependencies":[{"issue_id":"qmd-ddq.3","depends_on_id":"qmd-ddq","type":"parent-child","created_at":"2026-01-09T20:31:16.904504-05:00","created_by":"mike"},{"issue_id":"qmd-ddq.3","depends_on_id":"qmd-ddq.2","type":"blocks","created_at":"2026-01-09T20:31:34.167147-05:00","created_by":"mike"}]}
{"id":"qmd-ddq.4","title":"Remove _ensure_table from DocumentMetadataRepository","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:31:17.243539-05:00","created_by":"mike","updated_at":"2026-01-09T20:36:20.840783-05:00","closed_at":"2026-01-09T20:36:20.840783-05:00","close_reason":"Removed _ensure_table from DocumentMetadataRepository","dependencies":[{"issue_id":"qmd-ddq.4","depends_on_id":"qmd-ddq","type":"parent-child","created_at":"2026-01-09T20:31:17.247114-05:00","created_by":"mike"},{"issue_id":"qmd-ddq.4","depends_on_id":"qmd-ddq.3","type":"blocks","created_at":"2026-01-09T20:31:34.451266-05:00","created_by":"mike"}]}
{"id":"qmd-ddq.5","title":"Add migration tests (fresh init, upgrade, no-op)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:31:19.085801-05:00","created_by":"mike","updated_at":"2026-01-09T20:37:30.097878-05:00","closed_at":"2026-01-09T20:37:30.097878-05:00","close_reason":"Added 14 migration tests covering fresh init, upgrade, idempotency, and data preservation","dependencies":[{"issue_id":"qmd-ddq.5","depends_on_id":"qmd-ddq","type":"parent-child","created_at":"2026-01-09T20:31:19.089906-05:00","created_by":"mike"},{"issue_id":"qmd-ddq.5","depends_on_id":"qmd-ddq.3","type":"blocks","created_at":"2026-01-09T20:31:34.74825-05:00","created_by":"mike"}]}
{"id":"qmd-ddq.6","title":"Document migration policy and new table process","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:31:22.952566-05:00","created_by":"mike","updated_at":"2026-01-09T20:38:57.61829-05:00","closed_at":"2026-01-09T20:38:57.61829-05:00","close_reason":"Documented migration policy in store/README.md and updated schema.py","dependencies":[{"issue_id":"qmd-ddq.6","depends_on_id":"qmd-ddq","type":"parent-child","created_at":"2026-01-09T20:31:22.956467-05:00","created_by":"mike"},{"issue_id":"qmd-ddq.6","depends_on_id":"qmd-ddq.3","type":"blocks","created_at":"2026-01-09T20:31:35.035004-05:00","created_by":"mike"}]}
{"id":"qmd-dum","title":"Implement vector search with sqlite-vec","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:17:32.511179-05:00","updated_at":"2025-12-27T14:19:19.379841-05:00","closed_at":"2025-12-27T14:19:19.379841-05:00"}
{"id":"qmd-dvq","title":"Refactor MCP server to use ServiceContainer","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:41:35.237411-05:00","updated_at":"2025-12-29T18:49:50.497804-05:00","closed_at":"2025-12-29T18:49:50.497804-05:00","dependencies":[{"issue_id":"qmd-dvq","depends_on_id":"qmd-gzy","type":"blocks","created_at":"2025-12-29T18:42:57.112206-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-dvq","depends_on_id":"qmd-87o","type":"blocks","created_at":"2025-12-29T18:43:02.275296-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-dvq","depends_on_id":"qmd-pno","type":"blocks","created_at":"2025-12-29T18:43:07.42778-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-eap","title":"Update pmd.sources.metadata imports to use pmd.metadata","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:55.953948-05:00","created_by":"mike","updated_at":"2026-01-02T21:08:06.478523-05:00","closed_at":"2026-01-02T21:08:06.478523-05:00","close_reason":"Updated all sources.metadata files to import from pmd.metadata","dependencies":[{"issue_id":"qmd-eap","depends_on_id":"qmd-1pt","type":"blocks","created_at":"2026-01-02T21:04:14.961026-05:00","created_by":"mike"}]}
{"id":"qmd-g1u","title":"Remove deprecated test fixture aliases (collection_repo, sample_collection)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:38:52.673683-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.050752-05:00","closed_at":"2026-01-10T23:38:57.050752-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases"}
{"id":"qmd-ghs","title":"App-Aware Metadata Extraction","description":"Foundation for extracting and normalizing tags from different apps (Obsidian, Drafts, etc.)","status":"closed","priority":1,"issue_type":"epic","estimated_minutes":600,"created_at":"2026-01-01T19:58:28.019059-05:00","updated_at":"2026-01-01T20:22:07.900787-05:00","closed_at":"2026-01-01T20:22:07.900787-05:00"}
{"id":"qmd-ghs.1","title":"MetadataProfile protocol","description":"Define Protocol class with extract_metadata, normalize_tag methods in src/pmd/search/metadata/profiles.py","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T19:59:16.811352-05:00","updated_at":"2026-01-01T20:09:35.262689-05:00","closed_at":"2026-01-01T20:09:35.262689-05:00","dependencies":[{"issue_id":"qmd-ghs.1","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:16.812043-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.10","title":"Profile configuration schema","description":"TOML config for profiles and tag_namespace_map","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:00:05.767748-05:00","updated_at":"2026-01-01T20:21:19.780193-05:00","closed_at":"2026-01-01T20:21:19.780193-05:00","dependencies":[{"issue_id":"qmd-ghs.10","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T20:00:05.768372-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.10","depends_on_id":"qmd-ghs.8","type":"blocks","created_at":"2026-01-01T20:04:31.804302-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.2","title":"ExtractedMetadata dataclass","description":"Create dataclass for normalized metadata output (tags, source_tags, attributes, extraction_source)","status":"closed","priority":1,"issue_type":"task","estimated_minutes":30,"created_at":"2026-01-01T19:59:22.302802-05:00","updated_at":"2026-01-01T20:09:35.264494-05:00","closed_at":"2026-01-01T20:09:35.264494-05:00","dependencies":[{"issue_id":"qmd-ghs.2","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:22.303488-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.3","title":"YAML frontmatter parser","description":"Utility to parse YAML frontmatter from markdown content in src/pmd/search/metadata/parsers.py","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T19:59:27.773331-05:00","updated_at":"2026-01-01T20:12:38.77841-05:00","closed_at":"2026-01-01T20:12:38.77841-05:00","dependencies":[{"issue_id":"qmd-ghs.3","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:27.774013-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.4","title":"Inline tag extractor","description":"Extract #tags and other inline patterns from content","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T19:59:33.165553-05:00","updated_at":"2026-01-01T20:12:38.780915-05:00","closed_at":"2026-01-01T20:12:38.780915-05:00","dependencies":[{"issue_id":"qmd-ghs.4","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:33.16625-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.5","title":"GenericProfile implementation","description":"Fallback profile with minimal normalization for documents without app-specific handling","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T19:59:38.570216-05:00","updated_at":"2026-01-01T20:14:37.918486-05:00","closed_at":"2026-01-01T20:14:37.918486-05:00","dependencies":[{"issue_id":"qmd-ghs.5","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:38.570906-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.5","depends_on_id":"qmd-ghs.1","type":"blocks","created_at":"2026-01-01T20:03:34.114985-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.5","depends_on_id":"qmd-ghs.2","type":"blocks","created_at":"2026-01-01T20:03:39.241271-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.5","depends_on_id":"qmd-ghs.3","type":"blocks","created_at":"2026-01-01T20:03:44.395401-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.6","title":"ObsidianProfile implementation","description":"Handle frontmatter + inline tags with hierarchy for Obsidian vaults","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-01T19:59:43.974441-05:00","updated_at":"2026-01-01T20:14:37.919961-05:00","closed_at":"2026-01-01T20:14:37.919961-05:00","dependencies":[{"issue_id":"qmd-ghs.6","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:43.975124-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.6","depends_on_id":"qmd-ghs.1","type":"blocks","created_at":"2026-01-01T20:03:49.769111-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.6","depends_on_id":"qmd-ghs.3","type":"blocks","created_at":"2026-01-01T20:03:54.886969-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.6","depends_on_id":"qmd-ghs.4","type":"blocks","created_at":"2026-01-01T20:04:00.003822-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.7","title":"DraftsProfile implementation","description":"Handle attached JSON metadata with hyphen hierarchy for Drafts app exports","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T19:59:49.378491-05:00","updated_at":"2026-01-01T20:14:37.920591-05:00","closed_at":"2026-01-01T20:14:37.920591-05:00","dependencies":[{"issue_id":"qmd-ghs.7","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:49.379529-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.7","depends_on_id":"qmd-ghs.1","type":"blocks","created_at":"2026-01-01T20:04:05.380694-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.7","depends_on_id":"qmd-ghs.2","type":"blocks","created_at":"2026-01-01T20:04:10.499831-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.8","title":"MetadataProfileRegistry","description":"Registry with profile selection and auto-detection logic in src/pmd/search/metadata/registry.py","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T19:59:54.816101-05:00","updated_at":"2026-01-01T20:16:37.254234-05:00","closed_at":"2026-01-01T20:16:37.254234-05:00","dependencies":[{"issue_id":"qmd-ghs.8","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T19:59:54.816818-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.8","depends_on_id":"qmd-ghs.5","type":"blocks","created_at":"2026-01-01T20:04:15.88633-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.8","depends_on_id":"qmd-ghs.6","type":"blocks","created_at":"2026-01-01T20:04:21.05747-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ghs.9","title":"Indexing pipeline integration","description":"Integrate MetadataProfile system into IndexingService","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-01T20:00:00.328728-05:00","updated_at":"2026-01-01T20:19:34.396606-05:00","closed_at":"2026-01-01T20:19:34.396606-05:00","dependencies":[{"issue_id":"qmd-ghs.9","depends_on_id":"qmd-ghs","type":"parent-child","created_at":"2026-01-01T20:00:00.329413-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-ghs.9","depends_on_id":"qmd-ghs.8","type":"blocks","created_at":"2026-01-01T20:04:26.407463-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-gih","title":"Add logging to database operations (database.py)","description":"Log: connect/close, extension loading (sqlite-vec), schema initialization, transaction start/commit/rollback, query execution at DEBUG level. Include timing for slow queries.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:46:02.791988-05:00","updated_at":"2025-12-28T21:49:00.952614-05:00","closed_at":"2025-12-28T21:49:00.952614-05:00","dependencies":[{"issue_id":"qmd-gih","depends_on_id":"qmd-jjg","type":"blocks","created_at":"2025-12-28T21:46:42.968841-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-gks","title":"Add logging to LLM providers (mlx_provider, lm_studio, openrouter)","description":"Log: model loading/unloading, embed() calls with text length and timing, generate() calls with prompt preview and timing, rerank() calls with doc count and timing, errors with full context. Use DEBUG for verbose, INFO for operations, WARNING/ERROR for failures.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:45:57.360923-05:00","updated_at":"2025-12-28T21:59:49.594871-05:00","closed_at":"2025-12-28T21:59:49.594871-05:00","dependencies":[{"issue_id":"qmd-gks","depends_on_id":"qmd-jjg","type":"blocks","created_at":"2025-12-28T21:46:37.848477-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-gwd","title":"Implement FileSystemSource (refactor existing)","description":"Extract filesystem logic from IndexingService into FileSystemSource class.\n\n## Location\n`src/pmd/sources/filesystem.py`\n\n## Current Logic to Extract\nFrom `services/indexing.py:index_collection()`:\n- Path resolution and glob pattern matching\n- File reading with encoding handling\n- Title extraction from markdown\n- Change detection via hash comparison\n\n## Implementation\n```python\n@dataclass\nclass FileSystemConfig:\n    base_path: Path\n    glob_pattern: str = '**/*.md'\n    encoding: str = 'utf-8'\n\nclass FileSystemSource:\n    def __init__(self, config: FileSystemConfig):\n        self.config = config\n    \n    def list_documents(self) -\u003e Iterator[DocumentReference]:\n        for file_path in self.config.base_path.glob(self.config.glob_pattern):\n            if file_path.is_file():\n                yield DocumentReference(\n                    uri=file_path.as_uri(),\n                    path=str(file_path.relative_to(self.config.base_path)),\n                    ...\n                )\n    \n    async def fetch_content(self, ref: DocumentReference) -\u003e str:\n        # Read file, handle encoding errors\n        ...\n```\n\n## Backward Compatibility\n- Existing collections with pwd/glob_pattern continue to work\n- IndexingService delegates to FileSystemSource internally","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:53:37.737812-05:00","updated_at":"2025-12-29T21:23:47.438861-05:00","closed_at":"2025-12-29T21:23:47.438861-05:00","dependencies":[{"issue_id":"qmd-gwd","depends_on_id":"qmd-b2n","type":"blocks","created_at":"2025-12-29T20:56:22.478844-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-gzy","title":"Create IndexingService with index/embed/cleanup methods","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:38:50.033166-05:00","updated_at":"2025-12-29T18:47:03.704503-05:00","closed_at":"2025-12-29T18:47:03.704503-05:00","dependencies":[{"issue_id":"qmd-gzy","depends_on_id":"qmd-q74","type":"blocks","created_at":"2025-12-29T18:42:25.831514-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6","title":"Exact Tag Matching with Boost","description":"Prove metadata improves search with single-parameter multiplicative boost","status":"closed","priority":1,"issue_type":"epic","estimated_minutes":480,"created_at":"2026-01-01T19:58:33.458368-05:00","updated_at":"2026-01-01T20:46:28.307273-05:00","closed_at":"2026-01-01T20:46:28.307273-05:00","dependencies":[{"issue_id":"qmd-id6","depends_on_id":"qmd-ghs","type":"blocks","created_at":"2026-01-01T20:03:08.666236-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.1","title":"document_metadata table","description":"Create table with tags JSON, source_type columns","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:00:30.192713-05:00","updated_at":"2026-01-01T20:25:26.686558-05:00","closed_at":"2026-01-01T20:25:26.686558-05:00","dependencies":[{"issue_id":"qmd-id6.1","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:00:30.193379-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.2","title":"document_tags junction table","description":"Inverted index table with document_id, tag for fast lookups","status":"closed","priority":1,"issue_type":"task","estimated_minutes":45,"created_at":"2026-01-01T20:00:35.615935-05:00","updated_at":"2026-01-01T20:30:47.005323-05:00","closed_at":"2026-01-01T20:30:47.005323-05:00","dependencies":[{"issue_id":"qmd-id6.2","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:00:35.617116-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-id6.2","depends_on_id":"qmd-id6.1","type":"blocks","created_at":"2026-01-01T20:04:47.22517-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.3","title":"DocumentMetadataRepository","description":"CRUD operations and tag lookup queries in src/pmd/store/document_metadata.py","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-01T20:00:41.009915-05:00","updated_at":"2026-01-01T20:25:26.687426-05:00","closed_at":"2026-01-01T20:25:26.687426-05:00","dependencies":[{"issue_id":"qmd-id6.3","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:00:41.010564-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-id6.3","depends_on_id":"qmd-id6.2","type":"blocks","created_at":"2026-01-01T20:04:52.307489-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.4","title":"LexicalTagMatcher","description":"Dictionary-based query-time tag inference in src/pmd/search/metadata/inference.py","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:00:46.394737-05:00","updated_at":"2026-01-01T20:33:02.786594-05:00","closed_at":"2026-01-01T20:33:02.786594-05:00","dependencies":[{"issue_id":"qmd-id6.4","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:00:46.395479-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.5","title":"Tag alias file","description":"Initial 20-30 common term aliases in config/tag_aliases.json","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:00:51.785092-05:00","updated_at":"2026-01-01T20:46:00.096059-05:00","closed_at":"2026-01-01T20:46:00.096059-05:00","dependencies":[{"issue_id":"qmd-id6.5","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:00:51.785779-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.6","title":"apply_metadata_boost function","description":"Multiplicative scoring with cap in src/pmd/search/metadata/scoring.py","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:00:57.232109-05:00","updated_at":"2026-01-01T20:37:01.631901-05:00","closed_at":"2026-01-01T20:37:01.631901-05:00","dependencies":[{"issue_id":"qmd-id6.6","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:00:57.232806-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-id6.6","depends_on_id":"qmd-id6.3","type":"blocks","created_at":"2026-01-01T20:04:57.390812-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.7","title":"Pipeline integration","description":"Insert metadata boost after RRF fusion in HybridSearchPipeline","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:01:02.649358-05:00","updated_at":"2026-01-01T20:41:33.639752-05:00","closed_at":"2026-01-01T20:41:33.639752-05:00","dependencies":[{"issue_id":"qmd-id6.7","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:01:02.650075-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-id6.7","depends_on_id":"qmd-id6.4","type":"blocks","created_at":"2026-01-01T20:05:02.560351-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-id6.7","depends_on_id":"qmd-id6.6","type":"blocks","created_at":"2026-01-01T20:05:07.641106-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-id6.8","title":"Migration script","description":"Backfill document_tags from existing documents at migration time","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:01:08.066248-05:00","updated_at":"2026-01-01T20:44:19.760204-05:00","closed_at":"2026-01-01T20:44:19.760204-05:00","dependencies":[{"issue_id":"qmd-id6.8","depends_on_id":"qmd-id6","type":"parent-child","created_at":"2026-01-01T20:01:08.066904-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-id6.8","depends_on_id":"qmd-id6.1","type":"blocks","created_at":"2026-01-01T20:05:12.722956-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-id6.8","depends_on_id":"qmd-id6.2","type":"blocks","created_at":"2026-01-01T20:05:17.805998-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-iff","title":"Workflow Architecture: Ingestion + Embedding Pipelines","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-10T21:39:03.368697-05:00","created_by":"mike","updated_at":"2026-01-10T21:50:02.266999-05:00","closed_at":"2026-01-10T21:50:02.266999-05:00","close_reason":"Workflow architecture implemented. Created src/pmd/workflows/ with IngestionPipeline and EmbeddingPipeline. IndexingService is now a thin wrapper. Contracts define clear boundaries. Progress callbacks and trace context supported."}
{"id":"qmd-iff.1","title":"Create workflow package structure","description":"Create src/pmd/workflows/ with __init__.py, contracts.py, and pipelines/ subpackage. Establish the module structure without implementing logic yet.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T21:39:36.104723-05:00","created_by":"mike","updated_at":"2026-01-10T21:42:19.033604-05:00","closed_at":"2026-01-10T21:42:19.033604-05:00","close_reason":"Created src/pmd/workflows/ package structure with contracts.py stub and pipelines/ subpackage containing ingestion.py and embedding.py stubs","dependencies":[{"issue_id":"qmd-iff.1","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:36.120897-05:00","created_by":"mike"}]}
{"id":"qmd-iff.2","title":"Define workflow contracts (dataclasses)","description":"Define IngestionRequest, ResolvedCollection, LoadInput, PersistedDocument, IndexingSummary, EmbedRequest, Chunk, DocumentChunks, EmbeddedChunks, and StoreResult dataclasses. Reuse existing types (LoadedDocument, EmbedResult, IndexResult) where appropriate.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T21:39:36.50846-05:00","created_by":"mike","updated_at":"2026-01-10T21:43:51.563625-05:00","closed_at":"2026-01-10T21:43:51.563625-05:00","close_reason":"Defined all workflow contracts: IngestionRequest, ResolvedCollection, LoadInput, PersistedDocument, EmbedRequest, Chunk, DocumentChunks, EmbeddedChunks, StoreResult, ChunkerProtocol. Re-exports LoadedDocument, IndexResult, EmbedResult from existing modules.","dependencies":[{"issue_id":"qmd-iff.2","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:36.510469-05:00","created_by":"mike"},{"issue_id":"qmd-iff.2","depends_on_id":"qmd-iff.1","type":"blocks","created_at":"2026-01-10T21:39:49.528531-05:00","created_by":"mike"}]}
{"id":"qmd-iff.3","title":"Extract ingestion pipeline orchestration","description":"Create workflows/pipelines/ingestion.py with IngestionPipeline class. Keep nodes coarse: resolve_collection -\u003e enumerate_refs -\u003e load_documents (map, using LoadingService) -\u003e persist_documents -\u003e cleanup_stale. Single persist node (FTS + metadata together) to maintain transactional semantics.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T21:39:36.898878-05:00","created_by":"mike","updated_at":"2026-01-10T21:45:41.546472-05:00","closed_at":"2026-01-10T21:45:41.546472-05:00","close_reason":"Implemented IngestionPipeline with execute(), _persist_document(), and _cleanup_stale_documents(). Uses LoadingService for document streaming, handles FTS/metadata persistence, and supports progress callbacks with trace context.","dependencies":[{"issue_id":"qmd-iff.3","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:36.904916-05:00","created_by":"mike"},{"issue_id":"qmd-iff.3","depends_on_id":"qmd-iff.2","type":"blocks","created_at":"2026-01-10T21:39:49.58491-05:00","created_by":"mike"}]}
{"id":"qmd-iff.4","title":"Make IndexingService thin wrapper for ingestion workflow","description":"Refactor IndexingService.index_collection to use IngestionPipeline internally. Preserve existing API (IndexResult return type, force/embed flags). Remove duplicated orchestration logic from _index_via_loader and _index_via_legacy.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T21:39:37.283083-05:00","created_by":"mike","updated_at":"2026-01-10T21:47:01.257234-05:00","closed_at":"2026-01-10T21:47:01.257234-05:00","close_reason":"Refactored IndexingService._index_via_loader to delegate to IngestionPipeline. The service creates a pipeline instance and executes the workflow, preserving the existing API (IndexResult return, force flag). Legacy path (_index_via_legacy) preserved for backward compatibility.","dependencies":[{"issue_id":"qmd-iff.4","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:37.288867-05:00","created_by":"mike"},{"issue_id":"qmd-iff.4","depends_on_id":"qmd-iff.3","type":"blocks","created_at":"2026-01-10T21:39:49.62925-05:00","created_by":"mike"}]}
{"id":"qmd-iff.5","title":"Define ChunkerProtocol for drop-in chunking","description":"Create ChunkerProtocol in workflows/contracts.py. Interface: chunk(content: str, metadata: dict) -\u003e list[Chunk]. Add default implementation using existing chunking.py logic. This enables swappable chunkers (sentence-based, semantic, fixed-size).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T21:39:37.626743-05:00","created_by":"mike","updated_at":"2026-01-10T21:45:53.092097-05:00","closed_at":"2026-01-10T21:45:53.092097-05:00","close_reason":"ChunkerProtocol already defined in workflows/contracts.py during contract definition phase. Protocol includes chunk(content, metadata) -\u003e list[Chunk] interface with @runtime_checkable decorator.","dependencies":[{"issue_id":"qmd-iff.5","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:37.632438-05:00","created_by":"mike"},{"issue_id":"qmd-iff.5","depends_on_id":"qmd-iff.2","type":"blocks","created_at":"2026-01-10T21:39:49.682187-05:00","created_by":"mike"}]}
{"id":"qmd-iff.6","title":"Extract embedding pipeline with chunk-\u003eembed-\u003estore flow","description":"Create workflows/pipelines/embedding.py with EmbeddingPipeline. Nodes: list_embed_targets -\u003e chunk_document (using ChunkerProtocol) -\u003e embed_chunks (using EmbeddingGeneratorProtocol) -\u003e store_vectors (using EmbeddingRepositoryProtocol). Support batching for efficiency.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T21:39:37.985657-05:00","created_by":"mike","updated_at":"2026-01-10T21:48:25.359299-05:00","closed_at":"2026-01-10T21:48:25.359299-05:00","close_reason":"Implemented EmbeddingPipeline with execute() and _list_embed_targets(). Uses EmbeddingGeneratorProtocol which handles chunk-\u003eembed-\u003estore internally. Supports progress callbacks, trace context, and continues on errors.","dependencies":[{"issue_id":"qmd-iff.6","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:37.986463-05:00","created_by":"mike"},{"issue_id":"qmd-iff.6","depends_on_id":"qmd-iff.3","type":"blocks","created_at":"2026-01-10T21:39:49.738686-05:00","created_by":"mike"},{"issue_id":"qmd-iff.6","depends_on_id":"qmd-iff.5","type":"blocks","created_at":"2026-01-10T21:39:49.790965-05:00","created_by":"mike"}]}
{"id":"qmd-iff.7","title":"Integrate embedding as optional ingestion phase","description":"When embed=True in index_collection, run EmbeddingPipeline after IngestionPipeline completes. Keep as unified workflow with clear phase boundary. Pass force flag through. Return combined result (IndexResult with embedding stats).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T21:39:38.331692-05:00","created_by":"mike","updated_at":"2026-01-10T21:49:24.270962-05:00","closed_at":"2026-01-10T21:49:24.270962-05:00","close_reason":"IndexingService now uses EmbeddingPipeline for embed_collection. When embed=True in index_collection, the embedding phase runs via EmbeddingPipeline after IngestionPipeline completes. Both pipelines share trace context and progress callback patterns.","dependencies":[{"issue_id":"qmd-iff.7","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:38.33517-05:00","created_by":"mike"},{"issue_id":"qmd-iff.7","depends_on_id":"qmd-iff.4","type":"blocks","created_at":"2026-01-10T21:39:49.836017-05:00","created_by":"mike"},{"issue_id":"qmd-iff.7","depends_on_id":"qmd-iff.6","type":"blocks","created_at":"2026-01-10T21:39:49.888727-05:00","created_by":"mike"}]}
{"id":"qmd-iff.8","title":"Add partial failure handling and progress reporting","description":"Define PartialResult[T] type for accumulating successes and failures. Add progress callback to pipeline execution (processed: int, total: int, current_path: str). Document retry semantics (none by default, up to caller). Support continue-on-error mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T21:39:38.681589-05:00","created_by":"mike","updated_at":"2026-01-10T21:49:50.448294-05:00","closed_at":"2026-01-10T21:49:50.448294-05:00","close_reason":"Progress callbacks implemented in both pipelines (processed, total, current_path). Continue-on-error mode implemented - errors logged and processing continues. Errors accumulated in IndexResult.errors and logged. PartialResult[T] type deferred as existing result types handle this.","dependencies":[{"issue_id":"qmd-iff.8","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:38.683782-05:00","created_by":"mike"},{"issue_id":"qmd-iff.8","depends_on_id":"qmd-iff.3","type":"blocks","created_at":"2026-01-10T21:39:49.93764-05:00","created_by":"mike"}]}
{"id":"qmd-iff.9","title":"Add node-level tracing context (trace_id passthrough)","description":"Add WorkflowContext dataclass with trace_id, span_id fields. Pass through pipeline execution. Log trace IDs at node boundaries. Do NOT implement custom eventing - defer to eventual workflow engine or OpenTelemetry integration.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T21:39:39.014151-05:00","created_by":"mike","updated_at":"2026-01-10T21:49:50.984132-05:00","closed_at":"2026-01-10T21:49:50.984132-05:00","close_reason":"WorkflowContext with trace_id and span_id implemented. Passed to pipelines via request objects. Trace IDs logged at pipeline boundaries. child_span() method for creating child contexts. No custom eventing per design.","dependencies":[{"issue_id":"qmd-iff.9","depends_on_id":"qmd-iff","type":"parent-child","created_at":"2026-01-10T21:39:39.016653-05:00","created_by":"mike"},{"issue_id":"qmd-iff.9","depends_on_id":"qmd-iff.3","type":"blocks","created_at":"2026-01-10T21:39:49.997485-05:00","created_by":"mike"}]}
{"id":"qmd-iug","title":"Remove deprecated CollectionError exception aliases","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:38:27.473014-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.046041-05:00","closed_at":"2026-01-10T23:38:57.046041-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases"}
{"id":"qmd-jb6","title":"Add unit tests for vector-dependent service methods","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:34:34.320428-05:00","updated_at":"2025-12-29T19:36:37.328794-05:00","closed_at":"2025-12-29T19:36:37.328794-05:00"}
{"id":"qmd-jjg","title":"Add loguru logging infrastructure with CLI log-level option","description":"Add --log-level/-L global option to CLI (DEBUG/INFO/WARNING/ERROR). Configure loguru in main.py with proper formatting. Create a logger setup module if needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:45:51.8999-05:00","updated_at":"2025-12-28T21:47:45.081371-05:00","closed_at":"2025-12-28T21:47:45.081371-05:00"}
{"id":"qmd-lb1","title":"Implement EntitySource with resolver registry","description":"Create pluggable entity URI resolver for custom backends (databases, APIs, etc.).\n\n## Location\n`src/pmd/sources/entity.py`\n\n## URI Format\n`entity://\u003cresolver\u003e/\u003cresource-type\u003e/\u003cid\u003e[?query]`\n\nExamples:\n- `entity://postgres/articles/123`\n- `entity://notion/pages/abc-def`\n- `entity://custom/projects/42/docs`\n\n## Design\n```python\nclass EntityResolver(Protocol):\n    \"\"\"Protocol for entity resolvers.\"\"\"\n    \n    def list_entities(self, resource_type: str, query: dict) -\u003e Iterator[EntityInfo]:\n        \"\"\"List available entities.\"\"\"\n        ...\n    \n    async def fetch_entity(self, resource_type: str, entity_id: str) -\u003e EntityContent:\n        \"\"\"Fetch entity content.\"\"\"\n        ...\n\nclass EntityResolverRegistry:\n    \"\"\"Registry for entity resolvers.\"\"\"\n    _resolvers: dict[str, EntityResolver]\n    \n    def register(self, name: str, resolver: EntityResolver) -\u003e None\n    def get(self, name: str) -\u003e EntityResolver | None\n\nclass EntitySource:\n    \"\"\"Document source backed by entity resolvers.\"\"\"\n    \n    def __init__(self, uri: str, resolver_registry: EntityResolverRegistry):\n        self.resolver_name, self.resource_type, self.query = parse_entity_uri(uri)\n        self.resolver = resolver_registry.get(self.resolver_name)\n```\n\n## Built-in Resolvers\n- None initially (users register their own)\n- Document how to create custom resolvers\n\n## Example Custom Resolver\n```python\nclass PostgresResolver:\n    def __init__(self, conn_string: str, content_column: str = 'body'):\n        ...\n    \n    async def fetch_entity(self, table: str, id: str) -\u003e EntityContent:\n        row = await self.db.fetchone(f'SELECT * FROM {table} WHERE id = ', id)\n        return EntityContent(\n            content=row[self.content_column],\n            title=row.get('title'),\n            metadata={'updated_at': row['updated_at']}\n        )\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:54:22.691489-05:00","updated_at":"2025-12-29T21:47:52.979428-05:00","closed_at":"2025-12-29T21:47:52.979428-05:00","dependencies":[{"issue_id":"qmd-lb1","depends_on_id":"qmd-b2n","type":"blocks","created_at":"2025-12-29T20:56:43.058725-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-lb1","depends_on_id":"qmd-bpz","type":"blocks","created_at":"2025-12-29T20:56:48.22296-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-m6b","title":"Remove ServiceContainer and from_container pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:38:22.33733-05:00","created_by":"mike","updated_at":"2026-01-11T11:08:55.106761-05:00","closed_at":"2026-01-11T11:08:55.106761-05:00","close_reason":"Removed ServiceContainer pattern - CLI, MCP, and all tests now use Application composition root","dependencies":[{"issue_id":"qmd-m6b","depends_on_id":"qmd-8s3","type":"blocks","created_at":"2026-01-10T22:39:24.35879-05:00","created_by":"mike"}]}
{"id":"qmd-mlb","title":"Remove deprecated CollectionRepositoryProtocol alias","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:38:38.120265-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.048008-05:00","closed_at":"2026-01-10T23:38:57.048008-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases"}
{"id":"qmd-n36","title":"Implement hybrid search pipeline","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:17:42.831392-05:00","updated_at":"2025-12-27T14:20:55.215346-05:00","closed_at":"2025-12-27T14:20:55.215346-05:00","dependencies":[{"issue_id":"qmd-n36","depends_on_id":"qmd-1y5","type":"blocks","created_at":"2025-12-27T14:18:07.827254-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-nlw","title":"Document Vector store implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T20:14:22.156335-05:00","updated_at":"2025-12-30T20:18:14.578721-05:00","closed_at":"2025-12-30T20:18:14.578721-05:00"}
{"id":"qmd-nnm","title":"Document Source Abstraction - Multi-URI Support","description":"Enable sourcing documents from multiple backends: filesystem (current), HTTP URLs, and custom entity URIs.\n\n## Goals\n- Abstract document sourcing behind a protocol/interface\n- Support http:// and https:// URLs\n- Support custom entity:// URI schemes with pluggable resolvers\n- Maintain backward compatibility with existing filesystem collections\n\n## Key Components\n1. DocumentSource protocol\n2. Source registry with URI scheme routing\n3. FileSystemSource (refactor existing code)\n4. HTTPSource with caching/auth support\n5. EntitySource with resolver registry\n6. Collection model updates for source config\n7. Metadata tracking for remote sources","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-29T20:51:36.963767-05:00","updated_at":"2025-12-29T22:14:32.844567-05:00","closed_at":"2025-12-29T22:14:32.844567-05:00"}
{"id":"qmd-ov8","title":"Create pmd.metadata core module structure","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:54.193578-05:00","created_by":"mike","updated_at":"2026-01-02T21:04:53.426182-05:00","closed_at":"2026-01-02T21:04:53.426182-05:00","close_reason":"Created src/pmd/metadata/ with __init__.py and data/ directory"}
{"id":"qmd-p5e","title":"Refactor IndexingService to use DocumentSource","description":"Update IndexingService to delegate to DocumentSource implementations.\n\n## Current Flow\n```\nindex_collection(name)\n  -\u003e Path(collection.pwd).glob(pattern)\n  -\u003e open(file).read()\n  -\u003e document_repo.add_or_update()\n```\n\n## New Flow\n```\nindex_collection(name)\n  -\u003e source = registry.resolve(collection.source_uri, collection.source_config)\n  -\u003e for ref in source.list_documents():\n       if force or await source.check_modified(ref, stored_hash):\n         content = await source.fetch_content(ref)\n         document_repo.add_or_update(...)\n         metadata_repo.upsert(...)\n```\n\n## Changes to IndexingService\n1. Inject SourceRegistry in constructor\n2. Create source instance from collection config\n3. Use source.list_documents() instead of glob\n4. Use source.fetch_content() instead of open()\n5. Track source metadata for remote sources\n\n## Preserve\n- Title extraction logic (move to utility or keep in service)\n- FTS indexing logic\n- Embedding generation flow\n- Error handling and logging","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:54:53.044471-05:00","updated_at":"2025-12-29T21:31:27.0095-05:00","closed_at":"2025-12-29T21:31:27.0095-05:00","dependencies":[{"issue_id":"qmd-p5e","depends_on_id":"qmd-gwd","type":"blocks","created_at":"2025-12-29T20:56:53.376941-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-p5e","depends_on_id":"qmd-bpz","type":"blocks","created_at":"2025-12-29T20:56:58.46007-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-p5e","depends_on_id":"qmd-7g4","type":"blocks","created_at":"2025-12-29T20:57:03.607234-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-pno","title":"Create StatusService for index health reporting","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:39:13.410436-05:00","updated_at":"2025-12-29T18:47:03.705897-05:00","closed_at":"2025-12-29T18:47:03.705897-05:00","dependencies":[{"issue_id":"qmd-pno","depends_on_id":"qmd-q74","type":"blocks","created_at":"2025-12-29T18:42:36.066334-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-psy","title":"Define integration test cases for pmd.store module","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T18:10:58.093161-05:00","updated_at":"2025-12-27T18:12:00.0184-05:00","closed_at":"2025-12-27T18:12:00.0184-05:00"}
{"id":"qmd-q74","title":"Create ServiceContainer with lifecycle management","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:38:44.561482-05:00","updated_at":"2025-12-29T18:44:44.444436-05:00","closed_at":"2025-12-29T18:44:44.444436-05:00"}
{"id":"qmd-qno","title":"Add authentication/credentials abstraction","description":"Create a secure way to handle credentials for remote sources.\n\n## Location\n`src/pmd/sources/auth.py`\n\n## Design\n```python\nclass CredentialProvider(Protocol):\n    \"\"\"Protocol for credential providers.\"\"\"\n    \n    async def get_credential(self, key: str) -\u003e str | None:\n        \"\"\"Retrieve a credential by key.\"\"\"\n        ...\n\nclass EnvironmentCredentials:\n    \"\"\"Read credentials from environment variables.\"\"\"\n    \n    async def get_credential(self, key: str) -\u003e str | None:\n        return os.environ.get(key)\n\nclass KeyringCredentials:\n    \"\"\"Read credentials from system keyring.\"\"\"\n    \n    async def get_credential(self, key: str) -\u003e str | None:\n        import keyring\n        return keyring.get_password('pmd', key)\n\nclass ConfigFileCredentials:\n    \"\"\"Read credentials from encrypted config file.\"\"\"\n    ...\n```\n\n## Source Config Integration\n```python\n# In source config, reference credentials by key\n{\n    'base_url': 'https://api.example.com',\n    'auth_type': 'bearer',\n    'auth_token': '$ENV:API_TOKEN'  # or '$KEYRING:api-token'\n}\n```\n\n## Security Considerations\n- Never log or store plaintext credentials\n- Support credential rotation\n- Clear credentials from memory when done\n- Warn about insecure storage methods","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:55:23.069654-05:00","updated_at":"2025-12-29T21:38:54.04734-05:00","closed_at":"2025-12-29T21:38:54.04734-05:00"}
{"id":"qmd-r4v","title":"Replace God Service Container with Explicit Composition","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-09T19:52:11.443166-05:00","created_by":"mike","updated_at":"2026-01-09T20:21:14.750142-05:00","closed_at":"2026-01-09T20:21:14.750142-05:00","close_reason":"Complete: Services accept explicit deps, Application composition root created, in-memory fakes enable testing"}
{"id":"qmd-r4v.1","title":"Define dependency protocols (app/types.py)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:19.375053-05:00","created_by":"mike","updated_at":"2026-01-09T20:02:07.420358-05:00","closed_at":"2026-01-09T20:02:07.420358-05:00","close_reason":"Created pmd/app/types.py with 16 Protocol definitions for repositories, LLM providers, metadata components, and config","dependencies":[{"issue_id":"qmd-r4v.1","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:19.378758-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.10","title":"Create in-memory repo fakes (tests/fakes/repos.py)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:35.692803-05:00","created_by":"mike","updated_at":"2026-01-09T20:15:58.940766-05:00","closed_at":"2026-01-09T20:15:58.940766-05:00","close_reason":"Created tests/fakes/repos.py with InMemoryDatabase, InMemoryCollectionRepository, InMemoryDocumentRepository, InMemoryFTSRepository, InMemoryEmbeddingRepository","dependencies":[{"issue_id":"qmd-r4v.10","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:35.708061-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.10","depends_on_id":"qmd-r4v.1","type":"blocks","created_at":"2026-01-09T19:52:52.643475-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.11","title":"Add tests for service construction with test doubles","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:37.460116-05:00","created_by":"mike","updated_at":"2026-01-09T20:18:42.207083-05:00","closed_at":"2026-01-09T20:18:42.207083-05:00","close_reason":"Added 12 tests demonstrating service construction with in-memory fakes in test_service_fakes.py","dependencies":[{"issue_id":"qmd-r4v.11","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:37.463507-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.11","depends_on_id":"qmd-r4v.10","type":"blocks","created_at":"2026-01-09T19:52:52.945552-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.11","depends_on_id":"qmd-r4v.2","type":"blocks","created_at":"2026-01-09T19:52:52.99337-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.11","depends_on_id":"qmd-r4v.3","type":"blocks","created_at":"2026-01-09T19:52:53.046455-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.11","depends_on_id":"qmd-r4v.4","type":"blocks","created_at":"2026-01-09T19:52:53.104857-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.2","title":"Refactor IndexingService constructor for explicit deps","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:19.682018-05:00","created_by":"mike","updated_at":"2026-01-09T20:05:39.458621-05:00","closed_at":"2026-01-09T20:05:39.458621-05:00","close_reason":"IndexingService now accepts explicit deps, uses from_container() for backward compatibility","dependencies":[{"issue_id":"qmd-r4v.2","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:19.686673-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.2","depends_on_id":"qmd-r4v.1","type":"blocks","created_at":"2026-01-09T19:52:51.14992-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.3","title":"Refactor SearchService constructor for explicit deps","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:19.99419-05:00","created_by":"mike","updated_at":"2026-01-09T20:08:52.040786-05:00","closed_at":"2026-01-09T20:08:52.040786-05:00","close_reason":"SearchService now accepts explicit deps, uses from_container() for backward compatibility","dependencies":[{"issue_id":"qmd-r4v.3","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:19.997245-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.3","depends_on_id":"qmd-r4v.1","type":"blocks","created_at":"2026-01-09T19:52:51.199292-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.4","title":"Refactor StatusService constructor for explicit deps","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:20.86165-05:00","created_by":"mike","updated_at":"2026-01-09T20:11:31.756119-05:00","closed_at":"2026-01-09T20:11:31.756119-05:00","close_reason":"StatusService now accepts explicit deps, uses from_container() for backward compatibility","dependencies":[{"issue_id":"qmd-r4v.4","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:20.874541-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.4","depends_on_id":"qmd-r4v.1","type":"blocks","created_at":"2026-01-09T19:52:51.249955-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.5","title":"Create composition root (app/__init__.py)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:30.493809-05:00","created_by":"mike","updated_at":"2026-01-09T20:13:58.642556-05:00","closed_at":"2026-01-09T20:13:58.642556-05:00","close_reason":"Created Application class and create_application() factory in pmd/app/__init__.py","dependencies":[{"issue_id":"qmd-r4v.5","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:30.508417-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.5","depends_on_id":"qmd-r4v.2","type":"blocks","created_at":"2026-01-09T19:52:51.530354-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.5","depends_on_id":"qmd-r4v.3","type":"blocks","created_at":"2026-01-09T19:52:51.580505-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.5","depends_on_id":"qmd-r4v.4","type":"blocks","created_at":"2026-01-09T19:52:51.679539-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.6","title":"Simplify ServiceContainer to Application lifecycle manager","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:30.803279-05:00","created_by":"mike","updated_at":"2026-01-09T20:14:05.217715-05:00","closed_at":"2026-01-09T20:14:05.217715-05:00","close_reason":"Application class created as replacement - ServiceContainer kept for backward compatibility","dependencies":[{"issue_id":"qmd-r4v.6","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:30.807187-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.6","depends_on_id":"qmd-r4v.5","type":"blocks","created_at":"2026-01-09T19:52:51.978863-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.7","title":"Create factory helpers (MLX, OpenRouter presets)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:31.10223-05:00","created_by":"mike","updated_at":"2026-01-09T20:21:10.642239-05:00","closed_at":"2026-01-09T20:21:10.642239-05:00","close_reason":"Deferred - ServiceContainer pattern still works via from_container() factories","dependencies":[{"issue_id":"qmd-r4v.7","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:31.107149-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.7","depends_on_id":"qmd-r4v.5","type":"blocks","created_at":"2026-01-09T19:52:52.259551-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.8","title":"Update CLI commands to use composition root","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:32.206966-05:00","created_by":"mike","updated_at":"2026-01-09T20:21:10.644673-05:00","closed_at":"2026-01-09T20:21:10.644673-05:00","close_reason":"Deferred - ServiceContainer pattern still works via from_container() factories","dependencies":[{"issue_id":"qmd-r4v.8","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:32.216421-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.8","depends_on_id":"qmd-r4v.6","type":"blocks","created_at":"2026-01-09T19:52:52.317551-05:00","created_by":"mike"}]}
{"id":"qmd-r4v.9","title":"Update MCP server to use composition root","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:33.960291-05:00","created_by":"mike","updated_at":"2026-01-09T20:21:10.648159-05:00","closed_at":"2026-01-09T20:21:10.648159-05:00","close_reason":"Deferred - ServiceContainer pattern still works via from_container() factories","dependencies":[{"issue_id":"qmd-r4v.9","depends_on_id":"qmd-r4v","type":"parent-child","created_at":"2026-01-09T19:52:33.96874-05:00","created_by":"mike"},{"issue_id":"qmd-r4v.9","depends_on_id":"qmd-r4v.6","type":"blocks","created_at":"2026-01-09T19:52:52.368822-05:00","created_by":"mike"}]}
{"id":"qmd-rj5","title":"Ontology Parent Matching","description":"Improve recall by matching documents with child tags when query matches parent","status":"closed","priority":2,"issue_type":"epic","estimated_minutes":360,"created_at":"2026-01-01T19:58:38.833134-05:00","updated_at":"2026-01-01T21:16:02.199692-05:00","closed_at":"2026-01-01T21:16:02.199692-05:00","dependencies":[{"issue_id":"qmd-rj5","depends_on_id":"qmd-id6","type":"blocks","created_at":"2026-01-01T20:03:14.060976-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-rj5.1","title":"Ontology class","description":"Parent-child adjacency with get_ancestors method in src/pmd/search/metadata/ontology.py","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:01:33.001136-05:00","updated_at":"2026-01-01T21:05:05.569506-05:00","closed_at":"2026-01-01T21:05:05.569506-05:00","dependencies":[{"issue_id":"qmd-rj5.1","depends_on_id":"qmd-rj5","type":"parent-child","created_at":"2026-01-01T20:01:33.001718-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-rj5.2","title":"expand_for_matching method","description":"Return {tag: weight} with reduced weight for parent matches","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:01:38.41796-05:00","updated_at":"2026-01-01T21:05:36.177265-05:00","closed_at":"2026-01-01T21:05:36.177265-05:00","dependencies":[{"issue_id":"qmd-rj5.2","depends_on_id":"qmd-rj5","type":"parent-child","created_at":"2026-01-01T20:01:38.418622-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-rj5.2","depends_on_id":"qmd-rj5.1","type":"blocks","created_at":"2026-01-01T20:05:23.14838-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-rj5.3","title":"Tag ontology file","description":"Initial 2-3 namespace hierarchies in config/tag_ontology.json","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:01:43.802596-05:00","updated_at":"2026-01-01T21:06:37.443713-05:00","closed_at":"2026-01-01T21:06:37.443713-05:00","dependencies":[{"issue_id":"qmd-rj5.3","depends_on_id":"qmd-rj5","type":"parent-child","created_at":"2026-01-01T20:01:43.80321-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-rj5.4","title":"apply_metadata_boost_v2","description":"Updated scoring with weighted matches for ontology expansion","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:01:49.195073-05:00","updated_at":"2026-01-01T21:09:09.587165-05:00","closed_at":"2026-01-01T21:09:09.587165-05:00","dependencies":[{"issue_id":"qmd-rj5.4","depends_on_id":"qmd-rj5","type":"parent-child","created_at":"2026-01-01T20:01:49.195717-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-rj5.4","depends_on_id":"qmd-rj5.2","type":"blocks","created_at":"2026-01-01T20:05:28.222344-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-rj5.5","title":"Pipeline integration v2","description":"Replace v1 boost with ontology-aware version in HybridSearchPipeline","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:01:54.586324-05:00","updated_at":"2026-01-01T21:15:37.846011-05:00","closed_at":"2026-01-01T21:15:37.846011-05:00","dependencies":[{"issue_id":"qmd-rj5.5","depends_on_id":"qmd-rj5","type":"parent-child","created_at":"2026-01-01T20:01:54.586917-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-rj5.5","depends_on_id":"qmd-rj5.4","type":"blocks","created_at":"2026-01-01T20:05:33.29245-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-rk0","title":"Implement query expansion","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:24:05.11009-05:00","updated_at":"2025-12-27T14:28:01.424416-05:00","closed_at":"2025-12-27T14:28:01.424416-05:00","dependencies":[{"issue_id":"qmd-rk0","depends_on_id":"qmd-5os","type":"blocks","created_at":"2025-12-27T14:24:35.174219-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-rns","title":"Create aliases.py in pmd.metadata","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:55.604552-05:00","created_by":"mike","updated_at":"2026-01-02T21:07:12.650287-05:00","closed_at":"2026-01-02T21:07:12.650287-05:00","close_reason":"Created types.py, ontology.py, aliases.py in pmd.metadata with data files","dependencies":[{"issue_id":"qmd-rns","depends_on_id":"qmd-ov8","type":"blocks","created_at":"2026-01-02T21:04:14.675968-05:00","created_by":"mike"}]}
{"id":"qmd-sgg","title":"Add search and query CLI commands","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:17:47.982258-05:00","updated_at":"2025-12-27T14:21:55.982567-05:00","closed_at":"2025-12-27T14:21:55.982567-05:00","dependencies":[{"issue_id":"qmd-sgg","depends_on_id":"qmd-n36","type":"blocks","created_at":"2025-12-27T14:18:12.966733-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-sp1","title":"Testing and Evaluation","description":"Test infrastructure and evaluation framework per plan requirements","status":"closed","priority":1,"issue_type":"epic","estimated_minutes":300,"created_at":"2026-01-01T19:58:49.613288-05:00","updated_at":"2026-01-01T21:38:05.753099-05:00","closed_at":"2026-01-01T21:38:05.753099-05:00"}
{"id":"qmd-sp1.1","title":"Profile unit tests","description":"Test tag extraction and normalization per Phase 0 checklist","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:02:31.503128-05:00","updated_at":"2026-01-01T20:56:48.069249-05:00","closed_at":"2026-01-01T20:56:48.069249-05:00","dependencies":[{"issue_id":"qmd-sp1.1","depends_on_id":"qmd-sp1","type":"parent-child","created_at":"2026-01-01T20:02:31.503726-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-sp1.1","depends_on_id":"qmd-ghs","type":"blocks","created_at":"2026-01-01T20:05:54.399451-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-sp1.2","title":"Scoring unit tests","description":"Test boost calculations, edge cases, and cap behavior","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:02:36.957529-05:00","updated_at":"2026-01-01T20:59:55.573993-05:00","closed_at":"2026-01-01T20:59:55.573993-05:00","dependencies":[{"issue_id":"qmd-sp1.2","depends_on_id":"qmd-sp1","type":"parent-child","created_at":"2026-01-01T20:02:36.958209-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-sp1.2","depends_on_id":"qmd-id6","type":"blocks","created_at":"2026-01-01T20:05:59.564746-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-sp1.3","title":"Ontology unit tests","description":"Test expansion and weighted matching behavior","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:02:42.323698-05:00","updated_at":"2026-01-01T21:16:51.351938-05:00","closed_at":"2026-01-01T21:16:51.351938-05:00","dependencies":[{"issue_id":"qmd-sp1.3","depends_on_id":"qmd-sp1","type":"parent-child","created_at":"2026-01-01T20:02:42.324257-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-sp1.3","depends_on_id":"qmd-rj5","type":"blocks","created_at":"2026-01-01T20:06:04.632421-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-sp1.4","title":"Integration tests","description":"End-to-end search with metadata boost and tag retrieval","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:02:47.699208-05:00","updated_at":"2026-01-01T21:37:33.906249-05:00","closed_at":"2026-01-01T21:37:33.906249-05:00","dependencies":[{"issue_id":"qmd-sp1.4","depends_on_id":"qmd-sp1","type":"parent-child","created_at":"2026-01-01T20:02:47.699848-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-sp1.4","depends_on_id":"qmd-yg1","type":"blocks","created_at":"2026-01-01T20:06:09.80078-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-t1d","title":"Delete pmd/sources/metadata/__init__.py shim module","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:38:41.326321-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.05493-05:00","closed_at":"2026-01-10T23:38:57.05493-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases","dependencies":[{"issue_id":"qmd-t1d","depends_on_id":"qmd-a01","type":"blocks","created_at":"2026-01-10T22:39:24.248271-05:00","created_by":"mike"}]}
{"id":"qmd-tuz","title":"Add CLI commands for new source types","description":"Extend CLI to support creating and managing collections with different source types.\n\n## New Commands\n\n### collection add (extended)\n```bash\n# Filesystem (existing, unchanged)\npmd collection add my-docs /path/to/docs --glob '**/*.md'\n\n# HTTP source\npmd collection add web-docs --source=http \\\n  --url='https://docs.example.com' \\\n  --sitemap='https://docs.example.com/sitemap.xml' \\\n  --auth=bearer --token='$DOCS_TOKEN'\n\n# Entity source  \npmd collection add db-docs --source=entity \\\n  --uri='entity://postgres/articles' \\\n  --config='connection_string=...'\n```\n\n### collection show (new)\n```bash\npmd collection show my-docs\n# Output:\n# Collection: my-docs\n#   Source: filesystem\n#   Path: /path/to/docs\n#   Pattern: **/*.md\n#   Documents: 42\n#   Last indexed: 2024-01-15T10:30:00Z\n```\n\n### source (new subcommand)\n```bash\n# List available source types\npmd source list\n\n# Test source connectivity\npmd source test --url='https://docs.example.com'\n\n# Register custom entity resolver (via config file)\npmd source register postgres --config=postgres.toml\n```\n\n## Implementation\n- Update argument parser in cli/commands/collection.py\n- Add cli/commands/source.py for source management\n- Validate source config before creating collection","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:55:08.032514-05:00","updated_at":"2025-12-29T21:45:08.759516-05:00","closed_at":"2025-12-29T21:45:08.759516-05:00","dependencies":[{"issue_id":"qmd-tuz","depends_on_id":"qmd-p5e","type":"blocks","created_at":"2025-12-29T20:57:08.708799-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-tuz","depends_on_id":"qmd-5ms","type":"blocks","created_at":"2025-12-29T20:57:13.872672-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-tyg","title":"Move types.py (ExtractedMetadata, MetadataProfile)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T21:03:54.60006-05:00","created_by":"mike","updated_at":"2026-01-02T21:07:12.646023-05:00","closed_at":"2026-01-02T21:07:12.646023-05:00","close_reason":"Created types.py, ontology.py, aliases.py in pmd.metadata with data files","dependencies":[{"issue_id":"qmd-tyg","depends_on_id":"qmd-ov8","type":"blocks","created_at":"2026-01-02T21:04:13.850016-05:00","created_by":"mike"}]}
{"id":"qmd-u5i","title":"Document module-level architecture","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T20:19:01.87129-05:00","updated_at":"2025-12-30T20:24:02.094458-05:00","closed_at":"2025-12-30T20:24:02.094458-05:00"}
{"id":"qmd-u9q","title":"Update pipeline to generate query embeddings for vector search","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T17:40:01.93655-05:00","updated_at":"2025-12-27T17:48:06.08566-05:00","closed_at":"2025-12-27T17:48:06.08566-05:00","dependencies":[{"issue_id":"qmd-u9q","depends_on_id":"qmd-xw0","type":"blocks","created_at":"2025-12-27T17:40:26.124529-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-ukh","title":"Fix FTS5 reindex_collection to work with contentless tables","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-27T19:07:05.007959-05:00","updated_at":"2025-12-27T19:48:37.626408-05:00","closed_at":"2025-12-27T19:48:37.626408-05:00"}
{"id":"qmd-vas","title":"Add title-only document detection helper","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:02:22.933351-05:00","updated_at":"2025-12-28T23:36:56.3233-05:00","closed_at":"2025-12-28T23:36:56.3233-05:00"}
{"id":"qmd-vhe","title":"Implement CollectionRepository for CRUD operations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:09:00.284046-05:00","updated_at":"2025-12-27T14:14:20.493337-05:00","closed_at":"2025-12-27T14:14:20.493337-05:00","dependencies":[{"issue_id":"qmd-vhe","depends_on_id":"qmd-z3k","type":"blocks","created_at":"2025-12-27T14:09:32.144582-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-vsb","title":"Skip embeddings for title-only docs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:02:31.044575-05:00","updated_at":"2025-12-28T23:37:58.852558-05:00","closed_at":"2025-12-28T23:37:58.852558-05:00","dependencies":[{"issue_id":"qmd-vsb","depends_on_id":"qmd-vas","type":"blocks","created_at":"2025-12-28T23:03:31.41699-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-waq","title":"Implement DocumentRepository and content-addressable storage","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:09:05.673343-05:00","updated_at":"2025-12-27T14:15:10.553123-05:00","closed_at":"2025-12-27T14:15:10.553123-05:00","dependencies":[{"issue_id":"qmd-waq","depends_on_id":"qmd-z3k","type":"blocks","created_at":"2025-12-27T14:09:37.532783-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-wsv","title":"Implement LoadingService architecture (v2)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-10T19:45:32.591893-05:00","created_by":"mike","updated_at":"2026-01-10T19:58:14.472143-05:00","closed_at":"2026-01-10T19:58:14.472143-05:00","close_reason":"Closed"}
{"id":"qmd-wsv.1","title":"Add LoadedDocument, LoadResult, EagerLoadResult types","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:46.150791-05:00","created_by":"mike","updated_at":"2026-01-10T19:49:35.081797-05:00","closed_at":"2026-01-10T19:49:35.081797-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.1","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:46.15465-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.2","title":"Add LoadingServiceProtocol to pmd.app.types","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:46.453022-05:00","created_by":"mike","updated_at":"2026-01-10T19:49:35.089338-05:00","closed_at":"2026-01-10T19:49:35.089338-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.2","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:46.455866-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.3","title":"Create LoadingService with eager and streaming modes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:46.758871-05:00","created_by":"mike","updated_at":"2026-01-10T19:49:40.666175-05:00","closed_at":"2026-01-10T19:49:40.666175-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.3","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:46.762813-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.3","depends_on_id":"qmd-wsv.1","type":"blocks","created_at":"2026-01-10T19:46:01.64355-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.3","depends_on_id":"qmd-wsv.2","type":"blocks","created_at":"2026-01-10T19:46:01.699832-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.4","title":"Update IndexingService to accept optional loader and source","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:47.072326-05:00","created_by":"mike","updated_at":"2026-01-10T19:51:36.569023-05:00","closed_at":"2026-01-10T19:51:36.569023-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.4","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:47.074336-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.4","depends_on_id":"qmd-wsv.3","type":"blocks","created_at":"2026-01-10T19:46:02.000071-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.5","title":"Add _cleanup_stale_documents to IndexingService","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:47.367637-05:00","created_by":"mike","updated_at":"2026-01-10T19:51:36.574639-05:00","closed_at":"2026-01-10T19:51:36.574639-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.5","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:47.368309-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.5","depends_on_id":"qmd-wsv.4","type":"blocks","created_at":"2026-01-10T19:46:02.292664-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.6","title":"Wire LoadingService in create_application","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:47.652917-05:00","created_by":"mike","updated_at":"2026-01-10T19:53:09.784674-05:00","closed_at":"2026-01-10T19:53:09.784674-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.6","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:47.654485-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.6","depends_on_id":"qmd-wsv.5","type":"blocks","created_at":"2026-01-10T19:46:02.584801-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.7","title":"Update CLI and MCP to use simplified API","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:47.94933-05:00","created_by":"mike","updated_at":"2026-01-10T19:54:09.132052-05:00","closed_at":"2026-01-10T19:54:09.132052-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.7","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:47.953444-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.7","depends_on_id":"qmd-wsv.6","type":"blocks","created_at":"2026-01-10T19:46:02.875931-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.8","title":"Add unit tests for LoadingService","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:48.261826-05:00","created_by":"mike","updated_at":"2026-01-10T19:56:02.915455-05:00","closed_at":"2026-01-10T19:56:02.915455-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.8","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:48.265527-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.8","depends_on_id":"qmd-wsv.3","type":"blocks","created_at":"2026-01-10T19:46:03.19199-05:00","created_by":"mike"}]}
{"id":"qmd-wsv.9","title":"Add integration tests for loader + indexer flow","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:45:48.577995-05:00","created_by":"mike","updated_at":"2026-01-10T19:58:14.426322-05:00","closed_at":"2026-01-10T19:58:14.426322-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qmd-wsv.9","depends_on_id":"qmd-wsv","type":"parent-child","created_at":"2026-01-10T19:45:48.580906-05:00","created_by":"mike"},{"issue_id":"qmd-wsv.9","depends_on_id":"qmd-wsv.6","type":"blocks","created_at":"2026-01-10T19:46:03.475847-05:00","created_by":"mike"}]}
{"id":"qmd-wt2","title":"Add document indexing CLI commands","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:17:53.106199-05:00","updated_at":"2025-12-27T14:22:50.426274-05:00","closed_at":"2025-12-27T14:22:50.426274-05:00","dependencies":[{"issue_id":"qmd-wt2","depends_on_id":"qmd-dum","type":"blocks","created_at":"2025-12-27T14:18:18.105441-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-wvv","title":"Implement document reranking with LLM","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:24:10.239063-05:00","updated_at":"2025-12-27T14:28:38.046689-05:00","closed_at":"2025-12-27T14:28:38.046689-05:00","dependencies":[{"issue_id":"qmd-wvv","depends_on_id":"qmd-5os","type":"blocks","created_at":"2025-12-27T14:24:40.315365-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-xco","title":"Add sqlite-vec extension and vector table to schema","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T17:39:45.500849-05:00","updated_at":"2025-12-27T17:42:09.981435-05:00","closed_at":"2025-12-27T17:42:09.981435-05:00"}
{"id":"qmd-xge","title":"Document maintenance and design principles","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:06:23.304209-05:00","updated_at":"2025-12-30T21:09:06.696775-05:00","closed_at":"2025-12-30T21:09:06.696775-05:00"}
{"id":"qmd-xu5","title":"Document LLM usage implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T20:14:27.539032-05:00","updated_at":"2025-12-30T20:18:14.579114-05:00","closed_at":"2025-12-30T20:18:14.579114-05:00"}
{"id":"qmd-xw0","title":"Implement vector similarity search in search_vec()","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T17:39:56.393371-05:00","updated_at":"2025-12-27T17:46:41.19898-05:00","closed_at":"2025-12-27T17:46:41.19898-05:00","dependencies":[{"issue_id":"qmd-xw0","depends_on_id":"qmd-56o","type":"blocks","created_at":"2025-12-27T17:40:20.943708-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-y96","title":"Set up project structure and pyproject.toml","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:08:49.487393-05:00","updated_at":"2025-12-27T14:12:03.412889-05:00","closed_at":"2025-12-27T14:12:03.412889-05:00"}
{"id":"qmd-yg1","title":"Tag-Based Retrieval Channel","description":"Use tags as retrieval signal in RRF fusion, not just post-hoc boost","status":"closed","priority":2,"issue_type":"epic","estimated_minutes":300,"created_at":"2026-01-01T19:58:44.217689-05:00","updated_at":"2026-01-01T21:32:13.998086-05:00","closed_at":"2026-01-01T21:32:13.998086-05:00","dependencies":[{"issue_id":"qmd-yg1","depends_on_id":"qmd-rj5","type":"blocks","created_at":"2026-01-01T20:03:19.411444-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-yg1.1","title":"TagRetriever class","description":"Retrieve documents by tag with normalized scores in src/pmd/search/metadata/retrieval.py","status":"closed","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-01T20:02:00.078024-05:00","updated_at":"2026-01-01T21:20:04.805096-05:00","closed_at":"2026-01-01T21:20:04.805096-05:00","dependencies":[{"issue_id":"qmd-yg1.1","depends_on_id":"qmd-yg1","type":"parent-child","created_at":"2026-01-01T20:02:00.078743-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-yg1.2","title":"SearchSource.TAG enum","description":"Add TAG to search source enumeration","status":"closed","priority":2,"issue_type":"task","estimated_minutes":30,"created_at":"2026-01-01T20:02:05.482453-05:00","updated_at":"2026-01-01T21:20:48.861052-05:00","closed_at":"2026-01-01T21:20:48.861052-05:00","dependencies":[{"issue_id":"qmd-yg1.2","depends_on_id":"qmd-yg1","type":"parent-child","created_at":"2026-01-01T20:02:05.483131-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-yg1.3","title":"RRF integration","description":"Add tag channel with configurable weight to RRF fusion","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-01T20:02:10.903209-05:00","updated_at":"2026-01-01T21:28:34.7913-05:00","closed_at":"2026-01-01T21:28:34.7913-05:00","dependencies":[{"issue_id":"qmd-yg1.3","depends_on_id":"qmd-yg1","type":"parent-child","created_at":"2026-01-01T20:02:10.904341-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-yg1.3","depends_on_id":"qmd-yg1.1","type":"blocks","created_at":"2026-01-01T20:05:38.723221-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-yg1.3","depends_on_id":"qmd-yg1.2","type":"blocks","created_at":"2026-01-01T20:05:43.893635-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-yg1.4","title":"Provenance tracking","description":"Track tag-sourced results in SearchResult","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-01T20:02:16.324487-05:00","updated_at":"2026-01-01T21:31:53.599917-05:00","closed_at":"2026-01-01T21:31:53.599917-05:00","dependencies":[{"issue_id":"qmd-yg1.4","depends_on_id":"qmd-yg1","type":"parent-child","created_at":"2026-01-01T20:02:16.325158-05:00","created_by":"mike","metadata":"{}"},{"issue_id":"qmd-yg1.4","depends_on_id":"qmd-yg1.3","type":"blocks","created_at":"2026-01-01T20:05:49.063802-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-yvl","title":"Implement OpenRouter LLM provider","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:23:54.808903-05:00","updated_at":"2025-12-27T14:26:41.932354-05:00","closed_at":"2025-12-27T14:26:41.932354-05:00"}
{"id":"qmd-z3k","title":"Implement Database class and schema","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:08:54.889411-05:00","updated_at":"2025-12-27T14:13:37.427839-05:00","closed_at":"2025-12-27T14:13:37.427839-05:00","dependencies":[{"issue_id":"qmd-z3k","depends_on_id":"qmd-y96","type":"blocks","created_at":"2025-12-27T14:09:26.769573-05:00","created_by":"mike","metadata":"{}"}]}
{"id":"qmd-zm6","title":"Remove deprecated Collection type alias for SourceCollection","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:38:24.463073-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.043913-05:00","closed_at":"2026-01-10T23:38:57.043913-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases"}
{"id":"qmd-zr2","title":"Delete pmd/store/document_metadata.py shim module","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:38:39.67084-05:00","created_by":"mike","updated_at":"2026-01-10T23:38:57.052974-05:00","closed_at":"2026-01-10T23:38:57.052974-05:00","close_reason":"Removed legacy fallbacks and deprecated aliases","dependencies":[{"issue_id":"qmd-zr2","depends_on_id":"qmd-a01","type":"blocks","created_at":"2026-01-10T22:39:24.186877-05:00","created_by":"mike"}]}
